2025-03-17 08:52:47.168 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 34316 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 08:52:47.171 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 08:52:47.694 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 08:52:47.757 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 5 JPA repository interfaces.
2025-03-17 08:52:48.397 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 08:52:48.416 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 08:52:48.421 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 08:52:48.422 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 08:52:48.627 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 08:52:48.627 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1413 ms
2025-03-17 08:52:48.785 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 08:52:48.822 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 08:52:48.823 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 08:52:49.094 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 08:52:49.108 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 08:52:49.308 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e31d53b
2025-03-17 08:52:49.309 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 08:52:49.363 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 08:52:50.090 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 08:52:50.167 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 08:52:50.707 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 08:52:50.837 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 08:52:50.865 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 583b15a2-3e4a-47a5-a3a1-7d86b4dddb9c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 08:52:51.035 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 08:52:51.036 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 08:52:51.055 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 08:52:51.059 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 08:52:51.059 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 08:52:51.252 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 08:52:51.254 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 08:52:51.256 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 08:52:51.306 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@12115c28, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cc3fc5c, org.springframework.security.web.context.SecurityContextHolderFilter@7c08461b, org.springframework.security.web.header.HeaderWriterFilter@48064a5a, org.springframework.web.filter.CorsFilter@2aac60b, org.springframework.security.web.authentication.logout.LogoutFilter@157a2c86, com.example.blog.config.JwtAuthenticationFilter@173602c0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2060df8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60be9fdf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fdeec12, org.springframework.security.web.session.SessionManagementFilter@5c94d4b8, org.springframework.security.web.access.ExceptionTranslationFilter@5889e697, org.springframework.security.web.access.intercept.AuthorizationFilter@4bbabec8]
2025-03-17 08:52:51.508 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 08:52:51.539 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 08:52:51.547 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 4.807 seconds (process running for 5.061)
2025-03-17 08:52:57.524 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 08:52:57.525 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 08:52:57.525 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 08:52:57.588 [http-nio-8088-exec-2] INFO  c.e.b.c.FriendLinkController - 收到获取所有友链的请求
2025-03-17 08:52:57.588 [http-nio-8088-exec-2] INFO  c.e.blog.service.FriendLinkService - 从数据库获取所有友链
2025-03-17 08:52:57.658 [http-nio-8088-exec-2] INFO  c.e.blog.service.FriendLinkService - 成功获取所有友链，共9条
2025-03-17 08:52:57.658 [http-nio-8088-exec-2] INFO  c.e.b.c.FriendLinkController - 成功获取所有友链，共9条
2025-03-17 08:53:05.344 [http-nio-8088-exec-4] INFO  c.e.b.c.FriendLinkController - 收到获取分类tech友链的请求
2025-03-17 08:53:05.390 [http-nio-8088-exec-4] INFO  c.e.b.c.FriendLinkController - 成功获取分类tech友链，共0条
2025-03-17 08:53:06.365 [http-nio-8088-exec-6] INFO  c.e.b.c.FriendLinkController - 收到获取分类friend友链的请求
2025-03-17 08:53:06.369 [http-nio-8088-exec-6] INFO  c.e.b.c.FriendLinkController - 成功获取分类friend友链，共8条
2025-03-17 08:53:07.174 [http-nio-8088-exec-8] INFO  c.e.b.c.FriendLinkController - 收到获取分类bigshot友链的请求
2025-03-17 08:53:07.178 [http-nio-8088-exec-8] INFO  c.e.b.c.FriendLinkController - 成功获取分类bigshot友链，共1条
2025-03-17 08:53:07.815 [http-nio-8088-exec-10] INFO  c.e.b.c.FriendLinkController - 收到获取分类close友链的请求
2025-03-17 08:53:07.819 [http-nio-8088-exec-10] INFO  c.e.b.c.FriendLinkController - 成功获取分类close友链，共0条
2025-03-17 08:53:08.771 [http-nio-8088-exec-1] INFO  c.e.b.c.FriendLinkController - 收到获取所有友链的请求
2025-03-17 08:53:08.772 [http-nio-8088-exec-1] INFO  c.e.blog.service.FriendLinkService - 从数据库获取所有友链
2025-03-17 08:53:08.779 [http-nio-8088-exec-1] INFO  c.e.blog.service.FriendLinkService - 成功获取所有友链，共9条
2025-03-17 08:53:08.780 [http-nio-8088-exec-1] INFO  c.e.b.c.FriendLinkController - 成功获取所有友链，共9条
2025-03-17 08:53:15.425 [http-nio-8088-exec-2] INFO  c.e.b.c.BulletChatController - 成功获取状态为APPROVED的弹幕，共8条
2025-03-17 08:53:16.474 [http-nio-8088-exec-3] INFO  c.e.b.c.FriendLinkController - 收到获取所有友链的请求
2025-03-17 08:53:16.474 [http-nio-8088-exec-3] INFO  c.e.blog.service.FriendLinkService - 从数据库获取所有友链
2025-03-17 08:53:16.481 [http-nio-8088-exec-3] INFO  c.e.blog.service.FriendLinkService - 成功获取所有友链，共9条
2025-03-17 08:53:16.482 [http-nio-8088-exec-3] INFO  c.e.b.c.FriendLinkController - 成功获取所有友链，共9条
2025-03-17 08:53:28.134 [http-nio-8088-exec-4] INFO  c.e.b.c.BulletChatController - 成功获取状态为APPROVED的弹幕，共8条
2025-03-17 08:56:08.332 [http-nio-8088-exec-3] INFO  c.example.blog.service.AuthService - 验证码发送成功: email=1780468580@qq.com, code=500115, type=admin_verify
2025-03-17 08:58:10.213 [http-nio-8088-exec-1] INFO  c.e.b.c.BulletChatController - 成功获取所有弹幕，共9条
2025-03-17 08:58:23.014 [http-nio-8088-exec-3] INFO  c.e.b.c.BulletChatController - 成功更新弹幕，ID：32
2025-03-17 08:58:56.775 [http-nio-8088-exec-7] INFO  c.e.b.c.BulletChatController - 成功获取所有弹幕，共9条
2025-03-17 08:59:08.477 [http-nio-8088-exec-1] INFO  c.e.b.c.BulletChatController - 成功获取所有弹幕，共9条
2025-03-17 10:22:05.231 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 39572 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 10:22:05.233 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 10:22:05.643 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 10:22:05.693 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2025-03-17 10:22:06.178 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 10:22:06.186 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 10:22:06.189 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 10:22:06.190 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 10:22:06.252 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 10:22:06.254 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 989 ms
2025-03-17 10:22:06.397 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 10:22:06.424 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 10:22:06.426 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 10:22:06.584 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 10:22:06.598 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 10:22:06.694 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e31d53b
2025-03-17 10:22:06.696 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 10:22:06.723 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 10:22:07.274 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 10:22:07.320 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 10:22:07.764 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 10:22:07.869 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 10:22:07.886 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: dc2c1122-df7d-4700-88c6-1508e628ffca

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 10:22:07.971 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 10:22:07.973 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 10:22:07.984 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 10:22:07.987 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 10:22:07.987 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 10:22:08.125 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 10:22:08.127 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 10:22:08.129 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 10:22:08.167 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58dd1d0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@740530b, org.springframework.security.web.context.SecurityContextHolderFilter@73ba3c4b, org.springframework.security.web.header.HeaderWriterFilter@2060df8, org.springframework.web.filter.CorsFilter@3dd8b40e, org.springframework.security.web.authentication.logout.LogoutFilter@1cecd0a9, com.example.blog.config.JwtAuthenticationFilter@4101e146, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a4199e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d1f6e1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7104b117, org.springframework.security.web.session.SessionManagementFilter@333e01c6, org.springframework.security.web.access.ExceptionTranslationFilter@7c08461b, org.springframework.security.web.access.intercept.AuthorizationFilter@29becf8b]
2025-03-17 10:22:08.294 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 10:22:08.307 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 10:22:08.312 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.418 seconds (process running for 3.621)
2025-03-17 10:22:38.366 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 10:22:38.366 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 10:22:38.368 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-17 10:22:38.445 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742178458
2025-03-17 10:22:38.446 [http-nio-8088-exec-2] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 10:23:06.183 [http-nio-8088-exec-4] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742178486
2025-03-17 10:23:06.184 [http-nio-8088-exec-4] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 10:23:56.642 [http-nio-8088-exec-3] INFO  c.e.b.c.FriendLinkController - 收到获取所有友链的请求（管理员）
2025-03-17 10:23:56.643 [http-nio-8088-exec-3] INFO  c.e.blog.service.FriendLinkService - 从数据库获取所有友链
2025-03-17 10:23:56.727 [http-nio-8088-exec-3] INFO  c.e.blog.service.FriendLinkService - 成功获取所有友链，共9条
2025-03-17 10:23:56.727 [http-nio-8088-exec-3] INFO  c.e.b.c.FriendLinkController - 成功获取所有友链，共9条
2025-03-17 10:23:56.744 [http-nio-8088-exec-6] INFO  c.e.b.c.FriendLinkController - 收到获取待审核友链的请求
2025-03-17 10:23:56.744 [http-nio-8088-exec-6] INFO  c.e.blog.service.FriendLinkService - 获取所有待审核友链
2025-03-17 10:23:56.777 [http-nio-8088-exec-6] INFO  c.e.b.c.FriendLinkController - 成功获取待审核友链，共4条
2025-03-17 10:24:18.831 [http-nio-8088-exec-8] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742178558
2025-03-17 10:24:18.831 [http-nio-8088-exec-8] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 10:27:07.977 [http-nio-8088-exec-10] WARN  c.e.blog.config.SecurityConfig$1 - 未授权访问: /api/auth/check-token, 错误: Full authentication is required to access this resource
2025-03-17 10:27:32.367 [http-nio-8088-exec-6] INFO  c.example.blog.service.AuthService - 验证码发送成功: email=1780468580@qq.com, code=707480, type=admin_verify
2025-03-17 10:28:24.839 [http-nio-8088-exec-10] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742178804
2025-03-17 10:28:24.839 [http-nio-8088-exec-10] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 10:32:00.261 [http-nio-8088-exec-7] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742179020
2025-03-17 10:32:00.261 [http-nio-8088-exec-7] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 10:55:45.022 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 36272 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 10:55:45.023 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 10:55:45.432 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 10:55:45.484 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2025-03-17 10:55:45.947 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 10:55:45.954 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 10:55:45.956 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 10:55:45.956 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 10:55:46.165 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 10:55:46.166 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1109 ms
2025-03-17 10:55:46.299 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 10:55:46.332 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 10:55:46.334 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 10:55:46.547 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 10:55:46.560 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 10:55:46.714 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e31d53b
2025-03-17 10:55:46.716 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 10:55:46.743 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 10:55:47.273 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 10:55:47.320 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 10:55:47.765 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 10:55:47.869 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 10:55:47.888 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ec8efade-d523-4a2b-97bc-9e80edbc615f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 10:55:48.006 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 10:55:48.007 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 10:55:48.014 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 10:55:48.016 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 10:55:48.017 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 10:55:48.160 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 10:55:48.161 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 10:55:48.162 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 10:55:48.191 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58dd1d0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@740530b, org.springframework.security.web.context.SecurityContextHolderFilter@73ba3c4b, org.springframework.security.web.header.HeaderWriterFilter@2060df8, org.springframework.web.filter.CorsFilter@3dd8b40e, org.springframework.security.web.authentication.logout.LogoutFilter@1cecd0a9, com.example.blog.config.JwtAuthenticationFilter@4101e146, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a4199e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d1f6e1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7104b117, org.springframework.security.web.session.SessionManagementFilter@333e01c6, org.springframework.security.web.access.ExceptionTranslationFilter@7c08461b, org.springframework.security.web.access.intercept.AuthorizationFilter@29becf8b]
2025-03-17 10:55:48.327 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 10:55:48.340 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 10:55:48.346 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.682 seconds (process running for 4.029)
2025-03-17 10:55:55.767 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 10:55:55.768 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 10:55:55.770 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 10:55:55.884 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742180455
2025-03-17 10:55:55.884 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 10:56:10.813 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742180470
2025-03-17 10:56:10.813 [http-nio-8088-exec-2] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 10:56:51.184 [http-nio-8088-exec-3] INFO  c.e.b.c.FriendLinkController - 收到获取所有友链的请求（管理员）
2025-03-17 10:56:51.184 [http-nio-8088-exec-3] INFO  c.e.blog.service.FriendLinkService - 从数据库获取所有友链
2025-03-17 10:56:51.277 [http-nio-8088-exec-3] INFO  c.e.blog.service.FriendLinkService - 成功获取所有友链，共9条
2025-03-17 10:56:51.278 [http-nio-8088-exec-3] INFO  c.e.b.c.FriendLinkController - 成功获取所有友链，共9条
2025-03-17 10:56:51.299 [http-nio-8088-exec-9] INFO  c.e.b.c.FriendLinkController - 收到获取待审核友链的请求
2025-03-17 10:56:51.301 [http-nio-8088-exec-9] INFO  c.e.blog.service.FriendLinkService - 获取所有待审核友链
2025-03-17 10:56:51.320 [http-nio-8088-exec-9] INFO  c.e.b.c.FriendLinkController - 成功获取待审核友链，共4条
2025-03-17 11:00:44.277 [http-nio-8088-exec-4] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742180744
2025-03-17 11:00:44.278 [http-nio-8088-exec-4] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:00:58.248 [http-nio-8088-exec-7] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742180758
2025-03-17 11:00:58.249 [http-nio-8088-exec-7] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:01:07.101 [http-nio-8088-exec-10] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742180767
2025-03-17 11:01:07.101 [http-nio-8088-exec-10] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:01:28.091 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742180788
2025-03-17 11:01:28.091 [http-nio-8088-exec-6] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:10:41.891 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742181341
2025-03-17 11:10:41.892 [http-nio-8088-exec-2] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:11:44.484 [http-nio-8088-exec-9] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742181404
2025-03-17 11:11:44.484 [http-nio-8088-exec-9] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:13:19.588 [http-nio-8088-exec-7] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742181499
2025-03-17 11:13:19.589 [http-nio-8088-exec-7] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:13:57.938 [http-nio-8088-exec-10] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742181537
2025-03-17 11:13:57.938 [http-nio-8088-exec-10] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:14:21.631 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742181561
2025-03-17 11:14:21.633 [http-nio-8088-exec-6] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:14:53.538 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742181593
2025-03-17 11:14:53.538 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:16:40.756 [http-nio-8088-exec-3] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742181700
2025-03-17 11:16:40.757 [http-nio-8088-exec-3] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:19:32.398 [http-nio-8088-exec-5] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742181872
2025-03-17 11:19:32.398 [http-nio-8088-exec-5] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 11:19:45.779 [http-nio-8088-exec-4] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742181885
2025-03-17 11:19:45.779 [http-nio-8088-exec-4] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 15:50:44.680 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 38616 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 15:50:44.680 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 4264 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 15:50:44.682 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 15:50:44.682 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 15:50:45.185 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 15:50:45.186 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 15:50:45.243 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2025-03-17 15:50:45.243 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2025-03-17 15:50:45.786 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 15:50:45.793 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 15:50:45.795 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 15:50:45.796 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 15:50:45.999 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 15:50:46.001 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1264 ms
2025-03-17 15:50:46.161 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 15:50:46.183 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 15:50:46.184 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 15:50:46.429 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 15:50:46.442 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 15:50:46.596 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e31d53b
2025-03-17 15:50:46.598 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 15:50:46.639 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 15:50:47.157 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 15:50:47.213 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 15:50:47.753 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 15:50:47.883 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 15:50:47.906 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a2b488c2-8e4b-4dab-8ec2-dac16f2d142f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 15:50:48.013 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 15:50:48.014 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 15:50:48.028 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 15:50:48.032 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 15:50:48.033 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 15:50:48.184 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 15:50:48.185 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 15:50:48.186 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 15:50:48.212 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58dd1d0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@740530b, org.springframework.security.web.context.SecurityContextHolderFilter@73ba3c4b, org.springframework.security.web.header.HeaderWriterFilter@2060df8, org.springframework.web.filter.CorsFilter@3dd8b40e, org.springframework.security.web.authentication.logout.LogoutFilter@1cecd0a9, com.example.blog.config.JwtAuthenticationFilter@4101e146, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a4199e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d1f6e1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7104b117, org.springframework.security.web.session.SessionManagementFilter@333e01c6, org.springframework.security.web.access.ExceptionTranslationFilter@7c08461b, org.springframework.security.web.access.intercept.AuthorizationFilter@29becf8b]
2025-03-17 15:50:48.352 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 15:50:48.365 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 15:50:48.371 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 4.081 seconds (process running for 4.492)
2025-03-17 15:50:55.627 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 15:50:55.628 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 15:50:55.629 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 15:50:55.664 [http-nio-8088-exec-2] WARN  c.e.blog.config.SecurityConfig$1 - 未授权访问: /api/auth/refresh-token, 错误: Full authentication is required to access this resource
2025-03-17 15:51:38.774 [http-nio-8088-exec-1] INFO  c.example.blog.service.AuthService - 验证码发送成功: email=1780468580@qq.com, code=601980, type=admin_verify
2025-03-17 15:52:09.493 [http-nio-8088-exec-5] INFO  c.e.b.c.FriendLinkController - 收到获取所有友链的请求（管理员）
2025-03-17 15:52:09.494 [http-nio-8088-exec-5] INFO  c.e.blog.service.FriendLinkService - 从数据库获取所有友链
2025-03-17 15:52:09.507 [http-nio-8088-exec-5] INFO  c.e.blog.service.FriendLinkService - 成功获取所有友链，共9条
2025-03-17 15:52:09.508 [http-nio-8088-exec-5] INFO  c.e.b.c.FriendLinkController - 成功获取所有友链，共9条
2025-03-17 15:52:09.524 [http-nio-8088-exec-6] INFO  c.e.b.c.FriendLinkController - 收到获取待审核友链的请求
2025-03-17 15:52:09.524 [http-nio-8088-exec-6] INFO  c.e.blog.service.FriendLinkService - 获取所有待审核友链
2025-03-17 15:52:09.527 [http-nio-8088-exec-6] INFO  c.e.b.c.FriendLinkController - 成功获取待审核友链，共4条
2025-03-17 15:52:17.295 [http-nio-8088-exec-4] INFO  c.e.b.c.FriendLinkController - 收到获取所有友链的请求（管理员）
2025-03-17 15:52:17.296 [http-nio-8088-exec-4] INFO  c.e.blog.service.FriendLinkService - 从数据库获取所有友链
2025-03-17 15:52:17.302 [http-nio-8088-exec-4] INFO  c.e.blog.service.FriendLinkService - 成功获取所有友链，共9条
2025-03-17 15:52:17.303 [http-nio-8088-exec-4] INFO  c.e.b.c.FriendLinkController - 成功获取所有友链，共9条
2025-03-17 15:52:17.313 [http-nio-8088-exec-5] INFO  c.e.b.c.FriendLinkController - 收到获取待审核友链的请求
2025-03-17 15:52:17.314 [http-nio-8088-exec-5] INFO  c.e.blog.service.FriendLinkService - 获取所有待审核友链
2025-03-17 15:52:17.317 [http-nio-8088-exec-5] INFO  c.e.b.c.FriendLinkController - 成功获取待审核友链，共4条
2025-03-17 15:52:24.637 [http-nio-8088-exec-7] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742197949
2025-03-17 15:52:24.638 [http-nio-8088-exec-7] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 15:52:47.891 [http-nio-8088-exec-10] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742197972
2025-03-17 15:52:47.891 [http-nio-8088-exec-10] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 16:01:10.650 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 24700 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 16:01:10.651 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 16:01:11.014 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 16:01:11.068 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2025-03-17 16:01:11.598 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 16:01:11.613 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 16:01:11.618 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 16:01:11.619 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 16:01:11.772 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 16:01:11.773 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1090 ms
2025-03-17 16:01:11.951 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 16:01:11.976 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 16:01:11.978 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 16:01:12.176 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 16:01:12.189 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 16:01:12.309 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e31d53b
2025-03-17 16:01:12.312 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 16:01:12.348 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 16:01:12.932 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 16:01:12.980 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 16:01:13.420 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 16:01:13.544 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 16:01:13.568 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 89f9bbca-a365-4e24-b23c-bba1611772f0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 16:01:13.668 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 16:01:13.669 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 16:01:13.685 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 16:01:13.689 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 16:01:13.689 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 16:01:13.851 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 16:01:13.853 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 16:01:13.854 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 16:01:13.882 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58dd1d0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@740530b, org.springframework.security.web.context.SecurityContextHolderFilter@73ba3c4b, org.springframework.security.web.header.HeaderWriterFilter@2060df8, org.springframework.web.filter.CorsFilter@3dd8b40e, org.springframework.security.web.authentication.logout.LogoutFilter@1cecd0a9, com.example.blog.config.JwtAuthenticationFilter@4101e146, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a4199e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d1f6e1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7104b117, org.springframework.security.web.session.SessionManagementFilter@333e01c6, org.springframework.security.web.access.ExceptionTranslationFilter@7c08461b, org.springframework.security.web.access.intercept.AuthorizationFilter@29becf8b]
2025-03-17 16:01:14.000 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 16:01:14.013 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 16:01:14.018 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.682 seconds (process running for 3.872)
2025-03-17 16:01:22.755 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 16:01:22.755 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 16:01:22.756 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 16:01:22.851 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 已生成上传令牌，过期时间：1742198487
2025-03-17 16:01:22.852 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 16:54:04.843 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 4716 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 16:54:04.845 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 16:54:05.258 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 16:54:05.306 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2025-03-17 16:54:05.902 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 16:54:05.915 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 16:54:05.920 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 16:54:05.920 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 16:54:06.023 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 16:54:06.024 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1141 ms
2025-03-17 16:54:06.269 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 16:54:06.314 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 16:54:06.316 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 16:54:06.568 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 16:54:06.583 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 16:54:06.696 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e31d53b
2025-03-17 16:54:06.698 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 16:54:06.732 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 16:54:07.425 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 16:54:07.495 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 16:54:08.030 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 16:54:08.125 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'imageTokenController': Unsatisfied dependency expressed through field 'imageTokenService': Error creating bean with name 'imageTokenService': Lookup method resolution failed
2025-03-17 16:54:08.126 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 16:54:08.128 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-03-17 16:54:08.139 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-03-17 16:54:08.142 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-17 16:54:08.158 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-17 16:54:08.196 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'imageTokenController': Unsatisfied dependency expressed through field 'imageTokenService': Error creating bean with name 'imageTokenService': Lookup method resolution failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:767)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:747)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.blog.BlogApplication.main(BlogApplication.java:13)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'imageTokenService': Lookup method resolution failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.checkLookupMethods(AutowiredAnnotationBeanPostProcessor.java:481)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:351)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1291)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1186)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:764)
	... 20 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.example.blog.service.ImageTokenService] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4aa298b7]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.checkLookupMethods(AutowiredAnnotationBeanPostProcessor.java:459)
	... 33 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/apache/http/HttpEntity
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.apache.http.HttpEntity
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 39 common frames omitted
2025-03-17 17:04:44.224 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 18748 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:04:44.226 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:04:44.591 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:04:44.639 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2025-03-17 17:04:45.160 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:04:45.177 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:04:45.181 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:04:45.182 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:04:45.255 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:04:45.256 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 998 ms
2025-03-17 17:04:45.442 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:04:45.469 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:04:45.470 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:04:45.673 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:04:45.686 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:04:45.800 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:04:45.801 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:04:45.839 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:04:46.418 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:04:46.488 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:04:46.954 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:04:47.074 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:04:47.099 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 94e247c8-6599-4521-aa83-8fc3bd4d68c9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:04:47.212 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:04:47.213 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:04:47.227 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:04:47.233 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:04:47.233 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:04:47.388 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:04:47.390 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:04:47.391 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:04:47.416 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@232899d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522221e1, org.springframework.security.web.context.SecurityContextHolderFilter@29becf8b, org.springframework.security.web.header.HeaderWriterFilter@2b27d5d3, org.springframework.web.filter.CorsFilter@14060410, org.springframework.security.web.authentication.logout.LogoutFilter@43069adf, com.example.blog.config.JwtAuthenticationFilter@58397dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36995784, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@740530b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@620260ad, org.springframework.security.web.session.SessionManagementFilter@73b71935, org.springframework.security.web.access.ExceptionTranslationFilter@4bbabec8, org.springframework.security.web.access.intercept.AuthorizationFilter@4bc75792]
2025-03-17 17:04:47.518 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:04:47.533 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:04:47.541 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.635 seconds (process running for 3.826)
2025-03-17 17:09:13.146 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:09:13.146 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:09:13.148 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 17:09:13.258 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：cd18aa05c256f4840797519021e1e0d0d7d9ed81
2025-03-17 17:09:13.727 [http-nio-8088-exec-2] ERROR c.e.blog.service.ImageTokenService - 多吉云API返回错误：指定的存储空间 user-img-data/64c215845fc84af7aa58b713e3da4533.jpg 不存在
2025-03-17 17:09:13.730 [http-nio-8088-exec-2] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 17:09:13.731 [http-nio-8088-exec-2] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 17:09:54.462 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 37916 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:09:54.463 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:09:54.825 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:09:54.868 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 5 JPA repository interfaces.
2025-03-17 17:09:55.370 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:09:55.384 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:09:55.388 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:09:55.389 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:09:55.520 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:09:55.522 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1028 ms
2025-03-17 17:09:55.688 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:09:55.711 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:09:55.712 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:09:55.872 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:09:55.885 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:09:55.976 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:09:55.978 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:09:56.004 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:09:56.553 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:09:56.601 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:09:57.015 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:09:57.138 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:09:57.160 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 9557df65-93cc-4be2-bc42-fd17b172e7ca

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:09:57.264 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:09:57.265 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:09:57.278 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:09:57.283 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:09:57.283 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:09:57.459 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:09:57.460 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:09:57.462 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:09:57.500 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a0d8df8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63be4548, org.springframework.security.web.context.SecurityContextHolderFilter@7d453075, org.springframework.security.web.header.HeaderWriterFilter@4bbabec8, org.springframework.web.filter.CorsFilter@232899d1, org.springframework.security.web.authentication.logout.LogoutFilter@76e4df53, com.example.blog.config.JwtAuthenticationFilter@522221e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29becf8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36995784, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14060410, org.springframework.security.web.session.SessionManagementFilter@6df0d030, org.springframework.security.web.access.ExceptionTranslationFilter@403f6c04, org.springframework.security.web.access.intercept.AuthorizationFilter@4d408746]
2025-03-17 17:09:57.688 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:09:57.702 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:09:57.708 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.585 seconds (process running for 3.777)
2025-03-17 17:10:05.000 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:10:05.000 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:10:05.001 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 17:10:05.097 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：193630c46d84f6ef562f0c791518978ef9dc2015
2025-03-17 17:10:05.504 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 多吉云API返回错误：指定的存储空间 user-img-data/71795519e14d441b94fbc0b855e3eb4e.jpg 不存在
2025-03-17 17:10:05.505 [http-nio-8088-exec-1] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 17:10:05.506 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 17:15:31.075 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 44620 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:15:31.076 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:15:31.443 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:15:31.494 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2025-03-17 17:15:32.028 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:15:32.043 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:15:32.049 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:15:32.050 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:15:32.122 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:15:32.122 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1014 ms
2025-03-17 17:15:32.289 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:15:32.315 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:15:32.319 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:15:32.522 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:15:32.536 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:15:32.646 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:15:32.648 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:15:32.686 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:15:33.280 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:15:33.342 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:15:33.808 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:15:33.930 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:15:33.955 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 0af6b586-40e8-4713-b2db-0a8027aeee3e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:15:34.075 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:15:34.076 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:15:34.090 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:15:34.093 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:15:34.093 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:15:34.239 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:15:34.241 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:15:34.242 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:15:34.269 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a0d8df8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63be4548, org.springframework.security.web.context.SecurityContextHolderFilter@7d453075, org.springframework.security.web.header.HeaderWriterFilter@4bbabec8, org.springframework.web.filter.CorsFilter@232899d1, org.springframework.security.web.authentication.logout.LogoutFilter@76e4df53, com.example.blog.config.JwtAuthenticationFilter@522221e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29becf8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36995784, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14060410, org.springframework.security.web.session.SessionManagementFilter@6df0d030, org.springframework.security.web.access.ExceptionTranslationFilter@403f6c04, org.springframework.security.web.access.intercept.AuthorizationFilter@4d408746]
2025-03-17 17:15:34.366 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:15:34.379 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:15:34.385 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.625 seconds (process running for 3.821)
2025-03-17 17:18:46.760 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 43772 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:18:46.761 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:18:47.179 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:18:47.224 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 5 JPA repository interfaces.
2025-03-17 17:18:47.784 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:18:47.799 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:18:47.803 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:18:47.804 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:18:47.930 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:18:47.931 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1135 ms
2025-03-17 17:18:48.115 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:18:48.140 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:18:48.141 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:18:48.301 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:18:48.315 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:18:48.407 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:18:48.408 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:18:48.435 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:18:49.018 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:18:49.074 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:18:49.564 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:18:49.687 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:18:49.713 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 776e6ff4-3b6e-4e65-b72b-7a54cfda524a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:18:49.812 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:18:49.813 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:18:49.825 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:18:49.827 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:18:49.828 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:18:49.982 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:18:49.983 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:18:49.984 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:18:50.019 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a0d8df8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63be4548, org.springframework.security.web.context.SecurityContextHolderFilter@7d453075, org.springframework.security.web.header.HeaderWriterFilter@4bbabec8, org.springframework.web.filter.CorsFilter@232899d1, org.springframework.security.web.authentication.logout.LogoutFilter@76e4df53, com.example.blog.config.JwtAuthenticationFilter@522221e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29becf8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36995784, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14060410, org.springframework.security.web.session.SessionManagementFilter@6df0d030, org.springframework.security.web.access.ExceptionTranslationFilter@403f6c04, org.springframework.security.web.access.intercept.AuthorizationFilter@4d408746]
2025-03-17 17:18:50.191 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:18:50.216 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:18:50.223 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.805 seconds (process running for 4.008)
2025-03-17 17:18:57.997 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:18:57.998 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:18:57.999 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 17:18:58.142 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：b47770158d00d92ab241eb4c3130ab3db869a27c
2025-03-17 17:18:58.681 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 多吉云API返回错误：指定的存储空间 user-img-data/3602c421a9804086b68336719314f187.jpg 不存在
2025-03-17 17:18:58.684 [http-nio-8088-exec-1] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 17:18:58.684 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 17:34:13.356 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 15836 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:34:13.358 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:34:13.741 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:34:13.790 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2025-03-17 17:34:14.293 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:34:14.308 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:34:14.313 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:34:14.313 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:34:14.446 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:34:14.447 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1057 ms
2025-03-17 17:34:14.619 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:34:14.646 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:34:14.648 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:34:14.828 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:34:14.840 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:34:14.958 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:34:14.960 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:34:14.993 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:34:15.558 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:34:15.616 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:34:16.079 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:34:16.203 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:34:16.227 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 348910e3-f63f-4ac4-a857-110007c85ee5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:34:16.322 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:34:16.323 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:34:16.333 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:34:16.338 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:34:16.338 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:34:16.502 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:34:16.503 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:34:16.504 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:34:16.536 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63be4548, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@232899d1, org.springframework.security.web.context.SecurityContextHolderFilter@16df0ebd, org.springframework.security.web.header.HeaderWriterFilter@1043c493, org.springframework.web.filter.CorsFilter@522221e1, org.springframework.security.web.authentication.logout.LogoutFilter@569d6e0d, com.example.blog.config.JwtAuthenticationFilter@14060410, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@628b1538, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58dd1d0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58397dd, org.springframework.security.web.session.SessionManagementFilter@33319df0, org.springframework.security.web.access.ExceptionTranslationFilter@2693e39c, org.springframework.security.web.access.intercept.AuthorizationFilter@6ae55678]
2025-03-17 17:34:16.744 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:34:16.767 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:34:16.773 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.737 seconds (process running for 3.94)
2025-03-17 17:34:28.283 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:34:28.283 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:34:28.284 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 17:34:28.322 [http-nio-8088-exec-1] WARN  c.e.blog.config.SecurityConfig$1 - 未授权访问: /api/image/token, 错误: Full authentication is required to access this resource
2025-03-17 17:34:56.568 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 18236 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:34:56.569 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:34:56.950 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:34:56.997 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2025-03-17 17:34:57.519 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:34:57.534 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:34:57.539 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:34:57.539 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:34:57.683 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:34:57.684 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1081 ms
2025-03-17 17:34:57.860 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:34:57.883 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:34:57.885 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:34:58.073 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:34:58.086 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:34:58.196 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:34:58.198 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:34:58.225 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:34:58.757 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:34:58.802 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:34:59.239 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:34:59.358 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:34:59.380 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 19522770-7841-43ab-b37e-a5ecc4cc44d7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:34:59.463 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:34:59.464 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:34:59.476 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:34:59.477 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:34:59.478 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:34:59.607 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:34:59.609 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:34:59.611 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:34:59.635 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63be4548, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@232899d1, org.springframework.security.web.context.SecurityContextHolderFilter@16df0ebd, org.springframework.security.web.header.HeaderWriterFilter@1043c493, org.springframework.web.filter.CorsFilter@522221e1, org.springframework.security.web.authentication.logout.LogoutFilter@569d6e0d, com.example.blog.config.JwtAuthenticationFilter@14060410, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@628b1538, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58dd1d0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58397dd, org.springframework.security.web.session.SessionManagementFilter@33319df0, org.springframework.security.web.access.ExceptionTranslationFilter@2693e39c, org.springframework.security.web.access.intercept.AuthorizationFilter@6ae55678]
2025-03-17 17:34:59.769 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:34:59.785 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:34:59.792 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.549 seconds (process running for 3.74)
2025-03-17 17:35:04.154 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:35:04.154 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:35:04.155 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 17:35:04.183 [http-nio-8088-exec-1] WARN  c.e.blog.config.SecurityConfig$1 - 未授权访问: /api/image/token, 错误: Full authentication is required to access this resource
2025-03-17 17:35:40.428 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 22872 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:35:40.429 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:35:40.860 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:35:40.914 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2025-03-17 17:35:41.509 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:35:41.524 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:35:41.530 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:35:41.531 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:35:41.624 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:35:41.626 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1158 ms
2025-03-17 17:35:41.839 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:35:41.864 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:35:41.865 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:35:42.032 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:35:42.046 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:35:42.140 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:35:42.140 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:35:42.167 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:35:42.718 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:35:42.767 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:35:43.194 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:35:43.322 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:35:43.346 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: dd53d821-bba0-4cb6-8641-7fd41ecf3997

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:35:43.439 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:35:43.441 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:35:43.447 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:35:43.449 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:35:43.449 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:35:43.596 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:35:43.598 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:35:43.599 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:35:43.627 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a0d8df8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63be4548, org.springframework.security.web.context.SecurityContextHolderFilter@7d453075, org.springframework.security.web.header.HeaderWriterFilter@4bbabec8, org.springframework.web.filter.CorsFilter@232899d1, org.springframework.security.web.authentication.logout.LogoutFilter@76e4df53, com.example.blog.config.JwtAuthenticationFilter@522221e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29becf8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36995784, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14060410, org.springframework.security.web.session.SessionManagementFilter@6df0d030, org.springframework.security.web.access.ExceptionTranslationFilter@403f6c04, org.springframework.security.web.access.intercept.AuthorizationFilter@4d408746]
2025-03-17 17:35:43.748 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:35:43.762 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:35:43.766 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.68 seconds (process running for 3.874)
2025-03-17 17:35:48.088 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:35:48.089 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:35:48.090 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 17:35:54.430 [http-nio-8088-exec-7] INFO  c.example.blog.service.AuthService - 验证码发送成功: email=1780468580@qq.com, code=048547, type=admin_verify
2025-03-17 17:36:24.664 [http-nio-8088-exec-9] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：f3c470a4fb9c08432d47ff3a4d81d527a44f9779
2025-03-17 17:36:24.998 [http-nio-8088-exec-9] ERROR c.e.blog.service.ImageTokenService - 多吉云API返回错误：指定的存储空间 user-img-data/user/avatars/55a64ea53f5b4e58bf61cb85e012da29.jpg 不存在
2025-03-17 17:36:25.325 [http-nio-8088-exec-9] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 17:36:25.326 [http-nio-8088-exec-9] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 17:37:18.803 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 39164 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:37:18.804 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:37:19.177 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:37:19.221 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 5 JPA repository interfaces.
2025-03-17 17:37:19.727 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:37:19.739 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:37:19.742 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:37:19.743 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:37:19.823 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:37:19.824 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 988 ms
2025-03-17 17:37:19.989 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:37:20.014 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:37:20.015 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:37:20.204 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:37:20.216 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:37:20.329 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:37:20.330 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:37:20.370 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:37:20.939 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:37:20.998 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:37:21.443 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:37:21.564 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:37:21.591 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 06d3e49e-5145-4ec2-b248-49fb6901885a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:37:21.690 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:37:21.691 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:37:21.702 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:37:21.704 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:37:21.704 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:37:21.836 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:37:21.838 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:37:21.839 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:37:21.859 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@232899d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522221e1, org.springframework.security.web.context.SecurityContextHolderFilter@29becf8b, org.springframework.security.web.header.HeaderWriterFilter@2b27d5d3, org.springframework.web.filter.CorsFilter@14060410, org.springframework.security.web.authentication.logout.LogoutFilter@43069adf, com.example.blog.config.JwtAuthenticationFilter@58397dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36995784, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@740530b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@620260ad, org.springframework.security.web.session.SessionManagementFilter@73b71935, org.springframework.security.web.access.ExceptionTranslationFilter@4bbabec8, org.springframework.security.web.access.intercept.AuthorizationFilter@4bc75792]
2025-03-17 17:37:21.980 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:37:21.996 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:37:22.001 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.548 seconds (process running for 3.746)
2025-03-17 17:37:29.173 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:37:29.174 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:37:29.174 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 17:37:29.249 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：44d1c515f93952f6ef3dede31be1bd7b34cef144
2025-03-17 17:37:29.569 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 多吉云API返回错误：指定的存储空间 user-img-data/user/avatars/ 不存在
2025-03-17 17:37:29.573 [http-nio-8088-exec-1] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 17:37:29.574 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 17:39:00.619 [http-nio-8088-exec-3] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：44d1c515f93952f6ef3dede31be1bd7b34cef144
2025-03-17 17:39:00.864 [http-nio-8088-exec-3] ERROR c.e.blog.service.ImageTokenService - 多吉云API返回错误：指定的存储空间 user-img-data/user/avatars/ 不存在
2025-03-17 17:39:00.865 [http-nio-8088-exec-3] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 17:39:00.866 [http-nio-8088-exec-3] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 17:50:10.042 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 12656 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:50:10.044 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:50:10.419 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:50:10.464 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 5 JPA repository interfaces.
2025-03-17 17:50:10.956 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:50:10.966 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:50:10.969 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:50:10.969 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:50:11.046 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:50:11.047 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 970 ms
2025-03-17 17:50:11.206 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:50:11.228 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:50:11.229 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:50:11.410 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:50:11.422 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:50:11.535 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:50:11.538 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:50:11.566 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:50:12.142 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:50:12.201 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:50:12.658 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:50:12.787 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:50:12.811 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1489117c-abf8-4261-82b9-2d214a09e792

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:50:12.925 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:50:12.926 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:50:12.934 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:50:12.936 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:50:12.936 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:50:13.078 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:50:13.079 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:50:13.080 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:50:13.108 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@232899d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522221e1, org.springframework.security.web.context.SecurityContextHolderFilter@29becf8b, org.springframework.security.web.header.HeaderWriterFilter@2b27d5d3, org.springframework.web.filter.CorsFilter@14060410, org.springframework.security.web.authentication.logout.LogoutFilter@43069adf, com.example.blog.config.JwtAuthenticationFilter@58397dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36995784, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@740530b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@620260ad, org.springframework.security.web.session.SessionManagementFilter@73b71935, org.springframework.security.web.access.ExceptionTranslationFilter@4bbabec8, org.springframework.security.web.access.intercept.AuthorizationFilter@4bc75792]
2025-03-17 17:50:13.215 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:50:13.227 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:50:13.233 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.527 seconds (process running for 3.724)
2025-03-17 17:50:23.511 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:50:23.513 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:50:23.514 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 17:50:23.592 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：4aa39ebd0d6217cf72c4cb83dffac20fb95e1f6c
2025-03-17 17:50:24.059 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 请求多吉云API失败
org.json.JSONException: JSONObject["token"] not found.
	at org.json.JSONObject.get(JSONObject.java:570)
	at org.json.JSONObject.getString(JSONObject.java:857)
	at com.example.blog.service.ImageTokenService.requestDogeCloudToken(ImageTokenService.java:147)
	at com.example.blog.service.ImageTokenService.generateUploadToken(ImageTokenService.java:86)
	at com.example.blog.controller.ImageTokenController.getUploadToken(ImageTokenController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageTokenController$$SpringCGLIB$$0.getUploadToken(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-17 17:50:24.069 [http-nio-8088-exec-1] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 17:50:24.069 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 17:50:36.625 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 43692 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:50:36.626 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:50:37.003 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:50:37.051 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2025-03-17 17:50:37.561 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:50:37.572 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:50:37.577 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:50:37.578 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:50:37.670 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:50:37.671 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1012 ms
2025-03-17 17:50:37.836 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:50:37.861 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:50:37.863 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:50:38.056 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:50:38.068 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:50:38.175 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:50:38.177 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:50:38.209 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:50:38.771 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:50:38.823 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:50:39.264 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:50:39.394 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:50:39.420 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3a78e2e8-a320-4b68-b80d-177414116854

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:50:39.493 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:50:39.494 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:50:39.505 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:50:39.507 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:50:39.508 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:50:39.644 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:50:39.646 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:50:39.647 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:50:39.681 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@232899d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522221e1, org.springframework.security.web.context.SecurityContextHolderFilter@29becf8b, org.springframework.security.web.header.HeaderWriterFilter@2b27d5d3, org.springframework.web.filter.CorsFilter@14060410, org.springframework.security.web.authentication.logout.LogoutFilter@43069adf, com.example.blog.config.JwtAuthenticationFilter@58397dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36995784, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@740530b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@620260ad, org.springframework.security.web.session.SessionManagementFilter@73b71935, org.springframework.security.web.access.ExceptionTranslationFilter@4bbabec8, org.springframework.security.web.access.intercept.AuthorizationFilter@4bc75792]
2025-03-17 17:50:39.845 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:50:39.858 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:50:39.863 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.564 seconds (process running for 3.759)
2025-03-17 17:50:49.067 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 34200 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:50:49.068 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:50:49.433 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:50:49.480 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 5 JPA repository interfaces.
2025-03-17 17:50:49.998 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:50:50.014 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:50:50.018 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:50:50.019 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:50:50.162 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:50:50.163 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1064 ms
2025-03-17 17:50:50.370 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:50:50.395 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:50:50.397 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:50:50.551 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:50:50.564 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:50:50.654 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:50:50.655 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:50:50.681 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:50:51.231 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:50:51.288 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:50:51.743 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:50:51.862 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:50:51.885 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 07714426-524b-4fbd-b401-cd204e946d98

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:50:51.994 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:50:51.995 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:50:52.007 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:50:52.011 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:50:52.011 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:50:52.162 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:50:52.163 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:50:52.166 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:50:52.204 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63be4548, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@232899d1, org.springframework.security.web.context.SecurityContextHolderFilter@16df0ebd, org.springframework.security.web.header.HeaderWriterFilter@1043c493, org.springframework.web.filter.CorsFilter@522221e1, org.springframework.security.web.authentication.logout.LogoutFilter@569d6e0d, com.example.blog.config.JwtAuthenticationFilter@14060410, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@628b1538, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58dd1d0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58397dd, org.springframework.security.web.session.SessionManagementFilter@33319df0, org.springframework.security.web.access.ExceptionTranslationFilter@2693e39c, org.springframework.security.web.access.intercept.AuthorizationFilter@6ae55678]
2025-03-17 17:50:52.315 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:50:52.332 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:50:52.338 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.592 seconds (process running for 3.788)
2025-03-17 17:50:57.815 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:50:57.815 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:50:57.816 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 17:50:57.906 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：4aa39ebd0d6217cf72c4cb83dffac20fb95e1f6c
2025-03-17 17:50:58.373 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 请求多吉云API失败
org.json.JSONException: JSONObject["token"] not found.
	at org.json.JSONObject.get(JSONObject.java:570)
	at org.json.JSONObject.getString(JSONObject.java:857)
	at com.example.blog.service.ImageTokenService.requestDogeCloudToken(ImageTokenService.java:147)
	at com.example.blog.service.ImageTokenService.generateUploadToken(ImageTokenService.java:86)
	at com.example.blog.controller.ImageTokenController.getUploadToken(ImageTokenController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageTokenController$$SpringCGLIB$$0.getUploadToken(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-17 17:50:58.380 [http-nio-8088-exec-1] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 17:50:58.381 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 17:53:45.056 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 30492 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:53:45.057 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:53:45.429 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:53:45.475 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2025-03-17 17:53:45.996 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:53:46.008 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:53:46.011 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:53:46.012 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:53:46.113 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:53:46.113 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1023 ms
2025-03-17 17:53:46.299 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:53:46.322 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:53:46.324 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:53:46.524 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:53:46.538 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:53:46.647 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:53:46.650 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:53:46.681 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:53:47.255 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:53:47.309 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:53:47.757 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:53:47.876 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:53:47.900 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: b0505658-01bb-4ccd-abab-6df67013b9da

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:53:48.000 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:53:48.001 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:53:48.012 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:53:48.015 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:53:48.015 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:53:48.163 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:53:48.165 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:53:48.166 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:53:48.187 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@232899d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522221e1, org.springframework.security.web.context.SecurityContextHolderFilter@29becf8b, org.springframework.security.web.header.HeaderWriterFilter@2b27d5d3, org.springframework.web.filter.CorsFilter@14060410, org.springframework.security.web.authentication.logout.LogoutFilter@43069adf, com.example.blog.config.JwtAuthenticationFilter@58397dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36995784, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@740530b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@620260ad, org.springframework.security.web.session.SessionManagementFilter@73b71935, org.springframework.security.web.access.ExceptionTranslationFilter@4bbabec8, org.springframework.security.web.access.intercept.AuthorizationFilter@4bc75792]
2025-03-17 17:53:48.290 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:53:48.306 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:53:48.311 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.584 seconds (process running for 3.784)
2025-03-17 17:53:54.413 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:53:54.413 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:53:54.413 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 17:53:54.500 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API请求体: {"channel":"OSS_UPLOAD","scopes":[{"bucket":"user-img-data","path":"user/avatars/5acbf9ba932241089f2ed51b60c85d29.jpg"}]}
2025-03-17 17:53:54.501 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：f5f2ed6cbb4ad34565bae1779b1a5e8773fa5f4f
2025-03-17 17:53:54.577 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 发送请求到多吉云API: /auth/tmp_token.json
2025-03-17 17:53:54.894 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API响应状态码: 500
2025-03-17 17:53:54.896 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API原始响应: 
2025-03-17 17:53:54.898 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 请求多吉云API失败: A JSONObject text must begin with '{' at 0 [character 1 line 1]
org.json.JSONException: A JSONObject text must begin with '{' at 0 [character 1 line 1]
	at org.json.JSONTokener.syntaxError(JSONTokener.java:497)
	at org.json.JSONObject.<init>(JSONObject.java:208)
	at org.json.JSONObject.<init>(JSONObject.java:404)
	at com.example.blog.service.ImageTokenService.requestDogeCloudToken(ImageTokenService.java:156)
	at com.example.blog.service.ImageTokenService.generateUploadToken(ImageTokenService.java:94)
	at com.example.blog.controller.ImageTokenController.getUploadToken(ImageTokenController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageTokenController$$SpringCGLIB$$0.getUploadToken(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-17 17:53:54.906 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 无法获取多吉云临时上传令牌，请检查AccessKey和SecretKey是否正确
2025-03-17 17:53:54.907 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 生成上传令牌失败
java.lang.RuntimeException: 无法获取多吉云临时上传令牌，请联系管理员
	at com.example.blog.service.ImageTokenService.generateUploadToken(ImageTokenService.java:118)
	at com.example.blog.controller.ImageTokenController.getUploadToken(ImageTokenController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageTokenController$$SpringCGLIB$$0.getUploadToken(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-17 17:53:54.911 [http-nio-8088-exec-1] ERROR c.e.b.c.ImageTokenController - 生成上传令牌失败
java.lang.RuntimeException: 生成上传令牌失败：无法获取多吉云临时上传令牌，请联系管理员
	at com.example.blog.service.ImageTokenService.generateUploadToken(ImageTokenService.java:122)
	at com.example.blog.controller.ImageTokenController.getUploadToken(ImageTokenController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageTokenController$$SpringCGLIB$$0.getUploadToken(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-17 17:56:43.656 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 5524 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:56:43.658 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:56:44.045 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:56:44.088 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2025-03-17 17:56:44.613 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:56:44.629 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:56:44.634 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:56:44.634 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:56:44.758 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:56:44.759 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1057 ms
2025-03-17 17:56:44.929 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:56:44.952 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:56:44.953 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:56:45.162 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:56:45.174 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:56:45.286 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:56:45.287 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:56:45.325 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:56:45.894 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:56:45.944 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:56:46.399 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:56:46.524 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:56:46.548 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1f943969-9ba6-4744-b1eb-40979a06590b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:56:46.645 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:56:46.646 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:56:46.657 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:56:46.661 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:56:46.661 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:56:46.829 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:56:46.830 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:56:46.831 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:56:46.861 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@232899d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@522221e1, org.springframework.security.web.context.SecurityContextHolderFilter@29becf8b, org.springframework.security.web.header.HeaderWriterFilter@2b27d5d3, org.springframework.web.filter.CorsFilter@14060410, org.springframework.security.web.authentication.logout.LogoutFilter@43069adf, com.example.blog.config.JwtAuthenticationFilter@58397dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36995784, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@740530b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@620260ad, org.springframework.security.web.session.SessionManagementFilter@73b71935, org.springframework.security.web.access.ExceptionTranslationFilter@4bbabec8, org.springframework.security.web.access.intercept.AuthorizationFilter@4bc75792]
2025-03-17 17:56:47.040 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:56:47.053 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:56:47.060 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.726 seconds (process running for 3.928)
2025-03-17 17:56:58.189 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:56:58.189 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:56:58.190 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 17:56:58.338 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API请求体: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/e797f14f067a43fe98fe80944410b0c3.jpg"]}
2025-03-17 17:56:58.345 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：6d9ef9876dce84328f66fc8c6526c690008ae447
2025-03-17 17:56:58.487 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 发送请求到多吉云API: /auth/tmp_token.json
2025-03-17 17:56:58.911 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API响应状态码: 200
2025-03-17 17:56:58.912 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API原始响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDckJLMprcRTJxu73eCFUg76aY8ZbFS886cWtGmB3T6wDwUwZd_tsGWFtQbDGkIZoa","secretAccessKey":"ogyCwSvHafayEvfiCPvSVbzxVDjbbwylb6Tjt+eThcQ=","sessionToken":"ogMg1vTy0uiDHrgNkGJJiecGR2BLZEta9412a08794c49b6e303d828005cc2b9fZtNlZJolezdaIgdn-l3Wg5AO2OCJsQ5yxsh_bHqlyDaNJN2YL0Y9OpZmHs7vW_TDufY91CShYkFLJRwXMEYEtcsgnmhVhTrIMob3NGkQ3A1a0hk8KTiGNG08X5pxOr4MYtMSPut96trbTsoXQfdl_sdfwB0pdgQAyjwq7UCZHlho6tTTapHgNPFT0eRufduNYfY6MKNFKwGkGuhJqS3O3KTcEIeUTYfD1YtAT1SaT88uyqMoPWweQp-eKipuggY4HmaFatyW9CdWUq4tzabXZJAGz3T1jYBxCkKJVyqM7BIHeW_AOzSV4Ufm_LSOQUWI_CLQnqTUOpOmdAVF-Zy7uH6V2C2TQlUg4BrlHJt3n5uca70wH1xqcdG_vCLeGwppEq4QFhN9FckA_YCPLY3gbGvhanu0LAUia1DowbrjLbh8fgo2exxiAJ-HWGZg1HZGTGj2hsmrNFuEiMi72ZcDge14eC99uvYcIEuK4-BALGR7bTDrm4gkQ05Dfsys0Y6_JZtAbK7VTHLMr29F3KqnhjUNGT6OoTRElxE2kcWuDX_N7wFxMgJJB01l4HQp4PAQFftCSY6xPce-1Dpqq342blGNnuagglOLnUCrAtUrt7HJBoDnxiBE1smM1TWQ17o_193SWYpj2pI3ekr7IyqaWhP972HPeBxg6gxv5Z4MYiEYjAMDJkmTvyjQAr3BNw3r"},"ExpiredAt":1742212618,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.064,"st":1742205418}
2025-03-17 17:56:58.913 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API返回码: 200, 消息: OK
2025-03-17 17:56:58.914 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API返回数据: {"ExpiredAt":1742212618,"Credentials":{"accessKeyId":"AKIDckJLMprcRTJxu73eCFUg76aY8ZbFS886cWtGmB3T6wDwUwZd_tsGWFtQbDGkIZoa","secretAccessKey":"ogyCwSvHafayEvfiCPvSVbzxVDjbbwylb6Tjt+eThcQ=","sessionToken":"ogMg1vTy0uiDHrgNkGJJiecGR2BLZEta9412a08794c49b6e303d828005cc2b9fZtNlZJolezdaIgdn-l3Wg5AO2OCJsQ5yxsh_bHqlyDaNJN2YL0Y9OpZmHs7vW_TDufY91CShYkFLJRwXMEYEtcsgnmhVhTrIMob3NGkQ3A1a0hk8KTiGNG08X5pxOr4MYtMSPut96trbTsoXQfdl_sdfwB0pdgQAyjwq7UCZHlho6tTTapHgNPFT0eRufduNYfY6MKNFKwGkGuhJqS3O3KTcEIeUTYfD1YtAT1SaT88uyqMoPWweQp-eKipuggY4HmaFatyW9CdWUq4tzabXZJAGz3T1jYBxCkKJVyqM7BIHeW_AOzSV4Ufm_LSOQUWI_CLQnqTUOpOmdAVF-Zy7uH6V2C2TQlUg4BrlHJt3n5uca70wH1xqcdG_vCLeGwppEq4QFhN9FckA_YCPLY3gbGvhanu0LAUia1DowbrjLbh8fgo2exxiAJ-HWGZg1HZGTGj2hsmrNFuEiMi72ZcDge14eC99uvYcIEuK4-BALGR7bTDrm4gkQ05Dfsys0Y6_JZtAbK7VTHLMr29F3KqnhjUNGT6OoTRElxE2kcWuDX_N7wFxMgJJB01l4HQp4PAQFftCSY6xPce-1Dpqq342blGNnuagglOLnUCrAtUrt7HJBoDnxiBE1smM1TWQ17o_193SWYpj2pI3ekr7IyqaWhP972HPeBxg6gxv5Z4MYiEYjAMDJkmTvyjQAr3BNw3r"},"Buckets":[{"s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047"}]}
2025-03-17 17:56:58.916 [http-nio-8088-exec-1] WARN  c.e.blog.service.ImageTokenService - 多吉云返回的数据格式不符合预期: {"ExpiredAt":1742212618,"Credentials":{"accessKeyId":"AKIDckJLMprcRTJxu73eCFUg76aY8ZbFS886cWtGmB3T6wDwUwZd_tsGWFtQbDGkIZoa","secretAccessKey":"ogyCwSvHafayEvfiCPvSVbzxVDjbbwylb6Tjt+eThcQ=","sessionToken":"ogMg1vTy0uiDHrgNkGJJiecGR2BLZEta9412a08794c49b6e303d828005cc2b9fZtNlZJolezdaIgdn-l3Wg5AO2OCJsQ5yxsh_bHqlyDaNJN2YL0Y9OpZmHs7vW_TDufY91CShYkFLJRwXMEYEtcsgnmhVhTrIMob3NGkQ3A1a0hk8KTiGNG08X5pxOr4MYtMSPut96trbTsoXQfdl_sdfwB0pdgQAyjwq7UCZHlho6tTTapHgNPFT0eRufduNYfY6MKNFKwGkGuhJqS3O3KTcEIeUTYfD1YtAT1SaT88uyqMoPWweQp-eKipuggY4HmaFatyW9CdWUq4tzabXZJAGz3T1jYBxCkKJVyqM7BIHeW_AOzSV4Ufm_LSOQUWI_CLQnqTUOpOmdAVF-Zy7uH6V2C2TQlUg4BrlHJt3n5uca70wH1xqcdG_vCLeGwppEq4QFhN9FckA_YCPLY3gbGvhanu0LAUia1DowbrjLbh8fgo2exxiAJ-HWGZg1HZGTGj2hsmrNFuEiMi72ZcDge14eC99uvYcIEuK4-BALGR7bTDrm4gkQ05Dfsys0Y6_JZtAbK7VTHLMr29F3KqnhjUNGT6OoTRElxE2kcWuDX_N7wFxMgJJB01l4HQp4PAQFftCSY6xPce-1Dpqq342blGNnuagglOLnUCrAtUrt7HJBoDnxiBE1smM1TWQ17o_193SWYpj2pI3ekr7IyqaWhP972HPeBxg6gxv5Z4MYiEYjAMDJkmTvyjQAr3BNw3r"},"Buckets":[{"s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047"}]}
2025-03-17 17:56:58.917 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 无法获取多吉云临时上传令牌，请检查AccessKey和SecretKey是否正确
2025-03-17 17:56:58.918 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 生成上传令牌失败
java.lang.RuntimeException: 无法获取多吉云临时上传令牌，请联系管理员
	at com.example.blog.service.ImageTokenService.generateUploadToken(ImageTokenService.java:117)
	at com.example.blog.controller.ImageTokenController.getUploadToken(ImageTokenController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageTokenController$$SpringCGLIB$$0.getUploadToken(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-17 17:56:58.925 [http-nio-8088-exec-1] ERROR c.e.b.c.ImageTokenController - 生成上传令牌失败
java.lang.RuntimeException: 生成上传令牌失败：无法获取多吉云临时上传令牌，请联系管理员
	at com.example.blog.service.ImageTokenService.generateUploadToken(ImageTokenService.java:121)
	at com.example.blog.controller.ImageTokenController.getUploadToken(ImageTokenController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageTokenController$$SpringCGLIB$$0.getUploadToken(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-17 17:59:03.167 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 17760 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 17:59:03.169 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 17:59:03.550 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 17:59:03.597 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2025-03-17 17:59:04.136 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 17:59:04.152 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 17:59:04.157 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 17:59:04.158 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 17:59:04.278 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 17:59:04.281 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1077 ms
2025-03-17 17:59:04.467 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 17:59:04.495 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 17:59:04.497 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 17:59:04.663 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 17:59:04.677 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 17:59:04.787 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 17:59:04.788 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 17:59:04.832 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 17:59:05.486 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 17:59:05.535 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 17:59:05.997 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 17:59:06.157 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 17:59:06.185 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f912d7db-df48-4d1f-847f-bae5fb989ba2

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 17:59:06.295 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 17:59:06.296 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 17:59:06.306 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 17:59:06.309 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 17:59:06.309 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 17:59:06.470 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 17:59:06.471 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 17:59:06.472 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 17:59:06.504 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63be4548, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@232899d1, org.springframework.security.web.context.SecurityContextHolderFilter@16df0ebd, org.springframework.security.web.header.HeaderWriterFilter@1043c493, org.springframework.web.filter.CorsFilter@522221e1, org.springframework.security.web.authentication.logout.LogoutFilter@569d6e0d, com.example.blog.config.JwtAuthenticationFilter@14060410, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@628b1538, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58dd1d0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58397dd, org.springframework.security.web.session.SessionManagementFilter@33319df0, org.springframework.security.web.access.ExceptionTranslationFilter@2693e39c, org.springframework.security.web.access.intercept.AuthorizationFilter@6ae55678]
2025-03-17 17:59:06.630 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 17:59:06.642 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 17:59:06.648 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.836 seconds (process running for 4.033)
2025-03-17 17:59:18.275 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 17:59:18.276 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 17:59:18.277 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 17:59:18.378 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：4aa39ebd0d6217cf72c4cb83dffac20fb95e1f6c
2025-03-17 17:59:18.933 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 请求多吉云API失败
org.json.JSONException: JSONObject["token"] not found.
	at org.json.JSONObject.get(JSONObject.java:570)
	at org.json.JSONObject.getString(JSONObject.java:857)
	at com.example.blog.service.ImageTokenService.requestDogeCloudToken(ImageTokenService.java:147)
	at com.example.blog.service.ImageTokenService.generateUploadToken(ImageTokenService.java:86)
	at com.example.blog.controller.ImageTokenController.getUploadToken(ImageTokenController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageTokenController$$SpringCGLIB$$0.getUploadToken(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-17 17:59:18.947 [http-nio-8088-exec-1] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 17:59:18.947 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 18:05:03.842 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 38612 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 18:05:03.843 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 18:05:04.242 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 18:05:04.296 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2025-03-17 18:05:04.861 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 18:05:04.870 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 18:05:04.873 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 18:05:04.874 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 18:05:04.965 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 18:05:04.967 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1092 ms
2025-03-17 18:05:05.138 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 18:05:05.161 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 18:05:05.162 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 18:05:05.321 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 18:05:05.335 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 18:05:05.427 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 18:05:05.429 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 18:05:05.457 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 18:05:06.004 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 18:05:06.054 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 18:05:06.452 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 18:05:06.556 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 18:05:06.570 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 59b7a6ba-74fa-46a6-8a28-ab25efffc25f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 18:05:06.623 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 18:05:06.626 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 18:05:06.641 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 18:05:06.645 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 18:05:06.646 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 18:05:06.806 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 18:05:06.807 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 18:05:06.808 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 18:05:06.838 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63be4548, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@232899d1, org.springframework.security.web.context.SecurityContextHolderFilter@16df0ebd, org.springframework.security.web.header.HeaderWriterFilter@1043c493, org.springframework.web.filter.CorsFilter@522221e1, org.springframework.security.web.authentication.logout.LogoutFilter@569d6e0d, com.example.blog.config.JwtAuthenticationFilter@14060410, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@628b1538, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58dd1d0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58397dd, org.springframework.security.web.session.SessionManagementFilter@33319df0, org.springframework.security.web.access.ExceptionTranslationFilter@2693e39c, org.springframework.security.web.access.intercept.AuthorizationFilter@6ae55678]
2025-03-17 18:05:07.028 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 18:05:07.047 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 18:05:07.053 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.54 seconds (process running for 3.739)
2025-03-17 18:05:13.862 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 18:05:13.862 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 18:05:13.865 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-03-17 18:05:14.010 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - API请求体: {"channel":"OSS_UPLOAD","scopes":[{"bucket":"user-img-data","key":"user/avatars/e4972e92da1b409abf3e9c447b465067.jpg"}]}
2025-03-17 18:05:14.012 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：e43ea301fc520731a2fe9b4b53c5d978addedefa
2025-03-17 18:05:14.484 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API响应状态码: 500
2025-03-17 18:05:14.485 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API响应内容: 
2025-03-17 18:05:14.486 [http-nio-8088-exec-1] ERROR c.e.blog.service.ImageTokenService - 多吉云API返回空响应
2025-03-17 18:05:14.487 [http-nio-8088-exec-1] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 18:05:14.487 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 18:06:45.131 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 14128 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 18:06:45.131 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 18:06:45.481 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 18:06:45.526 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 5 JPA repository interfaces.
2025-03-17 18:06:46.061 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 18:06:46.075 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 18:06:46.082 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 18:06:46.083 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 18:06:46.195 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 18:06:46.196 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1032 ms
2025-03-17 18:06:46.360 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 18:06:46.384 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 18:06:46.387 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 18:06:46.571 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 18:06:46.583 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 18:06:46.704 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 18:06:46.705 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 18:06:46.733 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 18:06:47.281 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 18:06:47.336 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 18:06:47.775 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 18:06:47.886 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 18:06:47.911 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 4f9e7309-dc4e-4b35-ada9-728316ff5951

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 18:06:48.018 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 18:06:48.019 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 18:06:48.036 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 18:06:48.042 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 18:06:48.042 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 18:06:48.188 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 18:06:48.189 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 18:06:48.191 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 18:06:48.224 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@569d6e0d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43069adf, org.springframework.security.web.context.SecurityContextHolderFilter@cc3fc5c, org.springframework.security.web.header.HeaderWriterFilter@648c80cb, org.springframework.web.filter.CorsFilter@18edbed9, org.springframework.security.web.authentication.logout.LogoutFilter@5da16ed6, com.example.blog.config.JwtAuthenticationFilter@4823f4d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@173602c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cecd0a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75f316df, org.springframework.security.web.session.SessionManagementFilter@1043c493, org.springframework.security.web.access.ExceptionTranslationFilter@7fe40b9f, org.springframework.security.web.access.intercept.AuthorizationFilter@7ecd6861]
2025-03-17 18:06:48.356 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 18:06:48.373 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 18:06:48.380 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.576 seconds (process running for 3.773)
2025-03-17 18:06:58.730 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 18:06:58.731 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 18:06:58.731 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 18:06:58.866 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - API请求体: {"channel":"OSS_UPLOAD","scopes":[{"bucket":"user-img-data","key":"user/avatars/05f8346a459a48fc8c28a51a501bacd0.jpg"}]}
2025-03-17 18:06:58.869 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：bdf581be8329899a240e569c39e2bbf76005b15b
2025-03-17 18:06:58.877 [http-nio-8088-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.Error: Unresolved compilation problems: 
	The method dogeAPIGet(String, JSONObject) is undefined for the type ImageTokenService
	Duplicate local variable data
] with root cause
java.lang.Error: Unresolved compilation problems: 
	The method dogeAPIGet(String, JSONObject) is undefined for the type ImageTokenService
	Duplicate local variable data

	at com.example.blog.service.ImageTokenService.requestDogeCloudToken(ImageTokenService.java:162)
	at com.example.blog.service.ImageTokenService.generateUploadToken(ImageTokenService.java:94)
	at com.example.blog.controller.ImageTokenController.getUploadToken(ImageTokenController.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageTokenController$$SpringCGLIB$$0.getUploadToken(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-03-17 18:09:31.131 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 27508 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 18:09:31.133 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 18:09:31.559 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 18:09:31.608 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2025-03-17 18:09:32.104 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 18:09:32.114 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 18:09:32.116 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 18:09:32.117 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 18:09:32.172 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 18:09:32.173 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 986 ms
2025-03-17 18:09:32.342 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 18:09:32.367 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 18:09:32.368 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 18:09:32.566 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 18:09:32.578 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 18:09:32.686 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 18:09:32.687 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 18:09:32.712 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 18:09:33.217 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 18:09:33.264 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 18:09:33.676 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 18:09:33.802 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 18:09:33.833 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7ad6cf2e-21ef-4685-97aa-612a7ffdabee

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 18:09:33.930 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 18:09:33.932 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 18:09:33.950 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 18:09:33.955 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 18:09:33.955 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 18:09:34.121 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 18:09:34.124 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 18:09:34.125 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 18:09:34.155 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a0d8df8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63be4548, org.springframework.security.web.context.SecurityContextHolderFilter@7d453075, org.springframework.security.web.header.HeaderWriterFilter@4bbabec8, org.springframework.web.filter.CorsFilter@232899d1, org.springframework.security.web.authentication.logout.LogoutFilter@76e4df53, com.example.blog.config.JwtAuthenticationFilter@522221e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29becf8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36995784, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14060410, org.springframework.security.web.session.SessionManagementFilter@6df0d030, org.springframework.security.web.access.ExceptionTranslationFilter@403f6c04, org.springframework.security.web.access.intercept.AuthorizationFilter@4d408746]
2025-03-17 18:09:34.345 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 18:09:34.361 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 18:09:34.366 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.568 seconds (process running for 3.789)
2025-03-17 18:09:40.973 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 18:09:40.974 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 18:09:40.975 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 18:09:41.073 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/e9fad79fc0134cca9e420b7e06f107bd.jpg"]}
2025-03-17 18:09:41.074 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：d2f0c9f73431fc7af36c47c66ceaf5a48a659b35
2025-03-17 18:09:41.173 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:d2f0c9f73431fc7af36c47c66ceaf5a48a659b35, 请求体={"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/e9fad79fc0134cca9e420b7e06f107bd.jpg"]}
2025-03-17 18:09:41.517 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDQ_fCL9JjGRwqkEe3uGYpgKSebBl08a1bGaZRakmdpnK-vLVtnd6dbPVV7CrtxDyQ","secretAccessKey":"Ywdr7EhqfqWSzN4N6haCopXZOO2/mZxs6SzgpYvCb8g=","sessionToken":"ogMg1vTy0uiDHrgNkGJJiecGR2BLZEta151905b09373bd9bd013d85fa87e2d13ZtNlZJolezdaIgdn-l3Wg1CsCOctTBr6KLmgnWedDbfDqnPQpljVUEsk71POPpQEQscrKiCxUybuzPPpt4BTkhGRFNVPWfduToK7QXk79GDNx-fx-59LCfsAdjgpX1wnfCgJsA9k-Jm4PAz-uc2Cp0AFQN6zVB8azUlx95j6PnFEhgLhHGs7Z_-TqRjLRcAxgMsBfyyCjhxcXmntK04SskQfkeUl7hdNcEsty9OG0mpxpV30p2XeE-Njcno80w-sFXre5i7fuo4fUm7dVX9k-_tN9UpBjP296EKYp7clKek1tbpCnQVeQOPlbgwCeHIGjItKq8RfUnWHJPz_fmAIZZfasUvZJlkd6SQi-DQXTR9n2EcKcYpVtYcmOQVYII8jS-z1O8BAnmpBW2raoDtkeTksTvl66SFGXo1pctd-E7yuIlv3PmLDTTm0tY6oumQnieC1fwxLphy2AXpr0ZWMOkeMwXCSq4IFItp4XNvKuOGWvp3CWwH7EHz2Rs7Na8d15O7wWBgFL0rlCYCoXz7SRD2iUQeI_lmKKy3sqmKDL0kbjzyzQt2Xo5P3HCp82l2n9gw6plXkBKCzkgvNLxLNdhtRrP-_3Mk9uzw45Hqlb9C6Je8dA5bOhCikaifNroEtYYMlSFEHrMpnUmCSkbrNrnrACkiPUQcFLvbOFnyeNPUcGQFcpYQgdbKWVjyPIpbO"},"ExpiredAt":1742213381,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.049,"st":1742206181}
2025-03-17 18:09:41.518 [http-nio-8088-exec-2] WARN  c.e.blog.service.ImageTokenService - API响应中缺少token字段: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDQ_fCL9JjGRwqkEe3uGYpgKSebBl08a1bGaZRakmdpnK-vLVtnd6dbPVV7CrtxDyQ","secretAccessKey":"Ywdr7EhqfqWSzN4N6haCopXZOO2/mZxs6SzgpYvCb8g=","sessionToken":"ogMg1vTy0uiDHrgNkGJJiecGR2BLZEta151905b09373bd9bd013d85fa87e2d13ZtNlZJolezdaIgdn-l3Wg1CsCOctTBr6KLmgnWedDbfDqnPQpljVUEsk71POPpQEQscrKiCxUybuzPPpt4BTkhGRFNVPWfduToK7QXk79GDNx-fx-59LCfsAdjgpX1wnfCgJsA9k-Jm4PAz-uc2Cp0AFQN6zVB8azUlx95j6PnFEhgLhHGs7Z_-TqRjLRcAxgMsBfyyCjhxcXmntK04SskQfkeUl7hdNcEsty9OG0mpxpV30p2XeE-Njcno80w-sFXre5i7fuo4fUm7dVX9k-_tN9UpBjP296EKYp7clKek1tbpCnQVeQOPlbgwCeHIGjItKq8RfUnWHJPz_fmAIZZfasUvZJlkd6SQi-DQXTR9n2EcKcYpVtYcmOQVYII8jS-z1O8BAnmpBW2raoDtkeTksTvl66SFGXo1pctd-E7yuIlv3PmLDTTm0tY6oumQnieC1fwxLphy2AXpr0ZWMOkeMwXCSq4IFItp4XNvKuOGWvp3CWwH7EHz2Rs7Na8d15O7wWBgFL0rlCYCoXz7SRD2iUQeI_lmKKy3sqmKDL0kbjzyzQt2Xo5P3HCp82l2n9gw6plXkBKCzkgvNLxLNdhtRrP-_3Mk9uzw45Hqlb9C6Je8dA5bOhCikaifNroEtYYMlSFEHrMpnUmCSkbrNrnrACkiPUQcFLvbOFnyeNPUcGQFcpYQgdbKWVjyPIpbO"},"ExpiredAt":1742213381,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.049,"st":1742206181}
2025-03-17 18:09:41.519 [http-nio-8088-exec-2] WARN  c.e.blog.service.ImageTokenService - API响应中缺少expires字段，使用默认过期时间
2025-03-17 18:09:41.520 [http-nio-8088-exec-2] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 18:09:41.521 [http-nio-8088-exec-2] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 18:09:48.753 [http-nio-8088-exec-3] INFO  c.e.blog.service.ImageTokenService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/0c40a50f431a4d019db3d844f723262a.jpg"]}
2025-03-17 18:09:48.754 [http-nio-8088-exec-3] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：6a93b7af0c98ef7239f0e515d3bd9f5cfc360851
2025-03-17 18:09:48.755 [http-nio-8088-exec-3] INFO  c.e.blog.service.ImageTokenService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:6a93b7af0c98ef7239f0e515d3bd9f5cfc360851, 请求体={"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/0c40a50f431a4d019db3d844f723262a.jpg"]}
2025-03-17 18:09:48.961 [http-nio-8088-exec-3] INFO  c.e.blog.service.ImageTokenService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDxfhEzK_Q1iDL03uiDt4ugV5-B3-1IeeyUaqnXd5nCLYISkYJiwWcGLgtIrxEcIgs","secretAccessKey":"5yL+6CHXGmEN2dmWRHdbMZzDGeEklOk2DOdNu64BgRY=","sessionToken":"ogMg1vTy0uiDHrgNkGJJiecGR2BLZEtae76f1417896eadcf820e070ce1667001ZtNlZJolezdaIgdn-l3Wg-LVQcZYVzm3YXtMTaoE5b4q4uvS3Qch23Ayj24vjqAo0Te0aSDeMRe6vDsTTcI_RGhVQfEhtrZ1k0BhCPaczPh29cAusZ3OYHFOBN6eT_B8lFa32KRba4aU3nzvEVjcIL_fBBH6J_pC9EvrIIn0vk6BtERpk5gvKpZg-11YLKpbIZm2t10M6Er33PTfEOp8a4ijh_oKiI4RovzC7QxMtdGMwN7W3uocmEklOyFndxbxzRZDMjwED1lP61k-OYWaiCmgBqM-VnplHn4LOtoFOH8juO6FhQVE_ETY7cAuI324UsaQGiN6oq-Q14goQThZpXWsNxkbEPspP4RfGI4rG4jlY_HxNiOvOikJ39oVmlu_uDR4vdy-iNkDlLIL5w0J6gtjSuVWDm7B4ZHEEDG-aPJEOM1d9Ia8W1ZT60y7oC9XWJn1kdjWxUJehUlkActYYvlx-TjINcPdupWdYl3vAerBFQfHq3rVBv4pIBqFZqXMBeA097stVcG30eV3SFE3GW8uCMd5UNSkG4xxCgzjspnmLWte-RgLMBUq7gZG9NxVhlqfVJj9zBzOy_EqQlnIu968aAp6T8YNiI5l_9H3uatQGfKhbRkvdpB1Cwd6-364nBa9VNaidGSka2bdTHfVl5Wlwde3K5agKci8hkJrvRuC7dAAK0mhQIKWDBcIhJpb"},"ExpiredAt":1742213388,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.039,"st":1742206188}
2025-03-17 18:09:48.964 [http-nio-8088-exec-3] WARN  c.e.blog.service.ImageTokenService - API响应中缺少token字段: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDxfhEzK_Q1iDL03uiDt4ugV5-B3-1IeeyUaqnXd5nCLYISkYJiwWcGLgtIrxEcIgs","secretAccessKey":"5yL+6CHXGmEN2dmWRHdbMZzDGeEklOk2DOdNu64BgRY=","sessionToken":"ogMg1vTy0uiDHrgNkGJJiecGR2BLZEtae76f1417896eadcf820e070ce1667001ZtNlZJolezdaIgdn-l3Wg-LVQcZYVzm3YXtMTaoE5b4q4uvS3Qch23Ayj24vjqAo0Te0aSDeMRe6vDsTTcI_RGhVQfEhtrZ1k0BhCPaczPh29cAusZ3OYHFOBN6eT_B8lFa32KRba4aU3nzvEVjcIL_fBBH6J_pC9EvrIIn0vk6BtERpk5gvKpZg-11YLKpbIZm2t10M6Er33PTfEOp8a4ijh_oKiI4RovzC7QxMtdGMwN7W3uocmEklOyFndxbxzRZDMjwED1lP61k-OYWaiCmgBqM-VnplHn4LOtoFOH8juO6FhQVE_ETY7cAuI324UsaQGiN6oq-Q14goQThZpXWsNxkbEPspP4RfGI4rG4jlY_HxNiOvOikJ39oVmlu_uDR4vdy-iNkDlLIL5w0J6gtjSuVWDm7B4ZHEEDG-aPJEOM1d9Ia8W1ZT60y7oC9XWJn1kdjWxUJehUlkActYYvlx-TjINcPdupWdYl3vAerBFQfHq3rVBv4pIBqFZqXMBeA097stVcG30eV3SFE3GW8uCMd5UNSkG4xxCgzjspnmLWte-RgLMBUq7gZG9NxVhlqfVJj9zBzOy_EqQlnIu968aAp6T8YNiI5l_9H3uatQGfKhbRkvdpB1Cwd6-364nBa9VNaidGSka2bdTHfVl5Wlwde3K5agKci8hkJrvRuC7dAAK0mhQIKWDBcIhJpb"},"ExpiredAt":1742213388,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.039,"st":1742206188}
2025-03-17 18:09:48.967 [http-nio-8088-exec-3] WARN  c.e.blog.service.ImageTokenService - API响应中缺少expires字段，使用默认过期时间
2025-03-17 18:09:48.968 [http-nio-8088-exec-3] WARN  c.e.blog.service.ImageTokenService - 未能获取多吉云临时上传令牌，使用模拟令牌
2025-03-17 18:09:48.968 [http-nio-8088-exec-3] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 18:13:22.437 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 25532 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 18:13:22.438 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 18:13:22.819 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 18:13:22.866 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2025-03-17 18:13:23.370 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 18:13:23.384 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 18:13:23.390 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 18:13:23.390 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 18:13:23.483 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 18:13:23.484 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1014 ms
2025-03-17 18:13:23.662 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 18:13:23.685 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 18:13:23.686 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 18:13:23.870 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 18:13:23.882 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 18:13:23.985 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c030fe1
2025-03-17 18:13:23.986 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 18:13:24.011 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 18:13:24.596 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 18:13:24.641 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 18:13:25.089 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 18:13:25.232 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 18:13:25.258 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 4d57b307-eb9a-4813-b439-44d4f3fd4036

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 18:13:25.348 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 18:13:25.349 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 18:13:25.356 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 18:13:25.360 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 18:13:25.360 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 18:13:25.515 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 18:13:25.516 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 18:13:25.517 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 18:13:25.537 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a0d8df8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63be4548, org.springframework.security.web.context.SecurityContextHolderFilter@7d453075, org.springframework.security.web.header.HeaderWriterFilter@4bbabec8, org.springframework.web.filter.CorsFilter@232899d1, org.springframework.security.web.authentication.logout.LogoutFilter@76e4df53, com.example.blog.config.JwtAuthenticationFilter@522221e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29becf8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36995784, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14060410, org.springframework.security.web.session.SessionManagementFilter@6df0d030, org.springframework.security.web.access.ExceptionTranslationFilter@403f6c04, org.springframework.security.web.access.intercept.AuthorizationFilter@4d408746]
2025-03-17 18:13:25.642 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 18:13:25.659 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 18:13:25.664 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.536 seconds (process running for 3.725)
2025-03-17 19:38:05.600 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=52m40s989ms63µs900ns).
2025-03-17 19:39:40.492 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 19:39:40.492 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 19:39:40.492 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 19:39:40.533 [http-nio-8088-exec-2] WARN  c.e.blog.config.SecurityConfig$1 - 未授权访问: /api/auth/check-token, 错误: Full authentication is required to access this resource
2025-03-17 19:40:00.569 [http-nio-8088-exec-8] INFO  c.example.blog.service.AuthService - 验证码发送成功: email=1780468580@qq.com, code=048268, type=admin_verify
2025-03-17 19:40:50.094 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/c60ec79a3ab342caa0a4189ec117808c.jpg"]}
2025-03-17 19:40:50.096 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：5a07fa5771dc2bb054ac07b58a021ae2d81f94d1
2025-03-17 19:40:50.153 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:5a07fa5771dc2bb054ac07b58a021ae2d81f94d1, 请求体={"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/c60ec79a3ab342caa0a4189ec117808c.jpg"]}
2025-03-17 19:40:50.454 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKID7jkEuJip0zKbCFGnJ9-WgfUnU-b17VUlgPxjHc9SwBOQREQug3Llkaao6OQJ09uM","secretAccessKey":"kT0OnfSNM3Q3lgbX+NHWLnLVAkqYFa0WAw2L5qEleUQ=","sessionToken":"bEFE55pucT7Y656mhdxzyFPXLnP9fZDa4659011bf495f3ac6db23cc110e5dde8GR6BZL4-uB5b5u8CNa5UCHbbbclcKPTrsHPi1cwGRK4axKuh6V8b5obKzlm3-mXcFwM6VqDu1OPpHT77rTsTZIi1kkb2_UE-GMM_U7jA3QpsTK38SmrX29CgDEDaXMcsCDT1VYQNt9Eh9ukh8BBclKPxis4960m__jUYtsoO_ufbdBazqfY5X9h9MC8I5pg-BoQ4Z7So6tPeWRXhejAaXWXHazvbbusTZCB5ocvcrVlcETx_BNg00We2gAeSPh4638cKhQYEx7ThDxHUNrNIMQWO_I5dtSN9K6O4fur6tNkQk9hnxTkvHKul2rhCI8fdXsaT8CuyRc4eS9aMudk1NjBTgIGDnISDA_3Ew8_e4XS_fR_LKrbNMsGusXZD9mAkNSJgJJGtHfnukwnlztEzE4JVyOVKTTNcSAjjLYe1VAss9XbOTQDX6m456JVCUiNdpylniGPbZE88vgrKU7j1njZVx_nd6Cc6n00mw4XrFidiiRbrQIPyI9QGxR84bUKGc9SIB46KOFx3Al38untJehKkkyi3nfziHhvxWBDA1YlCoWLtJoYXsM5xbkX2YyED0OFRbQiTWhKxbTAvZlSJBV8lRCXy8TSyrs0YGjTpcLpwSoKniRN0T0HB1DoS2WALpOFADswziGaQC73A2PWjoL0Cs9ccKwvWwN0LOM-7uo7c48K130VWYz1Nez_o1yXf"},"ExpiredAt":1742218850,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.058,"st":1742211650}
2025-03-17 19:40:50.456 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 成功解析多吉云临时凭证: accessKeyId=AKID7jkEuJip0zKbCFGnJ9-WgfUnU-b17VUlgPxjHc9SwBOQREQug3Llkaao6OQJ09uM, secretKey=kT0On...
2025-03-17 19:40:50.457 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 获取到存储桶终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 19:40:50.458 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 使用存储桶终端节点作为上传URL: https://https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 19:40:50.459 [http-nio-8088-exec-2] INFO  c.e.blog.service.ImageTokenService - 成功获取多吉云临时上传令牌，文件名：c60ec79a3ab342caa0a4189ec117808c.jpg，过期时间：1742218850
2025-03-17 19:40:50.460 [http-nio-8088-exec-2] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 19:43:11.000 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/01ac406711fb416aa3e76e3bf53c32c2.jpg"]}
2025-03-17 19:43:11.000 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：a76d703327d303a6f99db0457ef2f235b97c91bd
2025-03-17 19:43:11.001 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:a76d703327d303a6f99db0457ef2f235b97c91bd, 请求体={"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/01ac406711fb416aa3e76e3bf53c32c2.jpg"]}
2025-03-17 19:43:11.155 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDKux3OhtB0YvVh13xy651THjeJ0f1-5K0FMcFhFhAdDHwU_q21NtUQ3TFoqfiBJH9","secretAccessKey":"4gsrhT8s1M2K4i178llOijFfAn/TSLlaCBOuEsJQ8C0=","sessionToken":"bEFE55pucT7Y656mhdxzyFPXLnP9fZDa6b33f6919492fcbccfcb6e354343836dGR6BZL4-uB5b5u8CNa5UCN_MrIGlDaJzMdOJhBettw93VV6VBspy8OV8PY1_VbYnBK6hIagFHDAqdGY-p0txrRwz7UqD7s0t6lDH7rZi6rqyNArvl8_Yy8zpYAxV7BjsnnSiYCnrYtqGwEDhTsw_k6HZal-i3dewYvSFJj03k2QiQjWFIfps-EGSHJ6iQJiCNgm323yJxWDba14Xv_V7x-robSkMpn2oCVChrJF09kx7bF_iCvSfEBaxqLpscX7I5xssgj9huCtlDJjHSEko6M9ejfN0QMM36A8qCaQkOTve5Wa4FVyLyix4Y-XwyC0DLAT6_ElFdBw5t8SoyeSOxSyMb2LZPpzmgyZpfcurkCp8Kk1Yq07Roi6mfGL60erpjFGVNXzCMMttPzzEM0uLePCE8K76AILcTYGfe-tAvMs8BauUq25znP8cfidf8D3LRKkb_lT0BMqSZn9lKoHzZF0lJg_oxfGC9UFD4OQwGPk1vBX4RVMay9EO0GMTEi8kCDLlDUA8tfcoJ9n8J6Ua-8VXvqkWft2F2MIBV_jMm3eqKRjsT9wg6vq9QE1qyqVKhH_tlk4l_jnMLsYIebGsy8cTl9LwOw7KbF6t7teqDs3NvPhvmOINEfW4e0VeOPJg6xJ_w3tHxNxBKRJcQofrFoSz8W0i-1e_C4V5lM2IriJliRH1sEU-gyznsqEKzDn_"},"ExpiredAt":1742218991,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.051,"st":1742211791}
2025-03-17 19:43:11.155 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 成功解析多吉云临时凭证: accessKeyId=AKIDKux3OhtB0YvVh13xy651THjeJ0f1-5K0FMcFhFhAdDHwU_q21NtUQ3TFoqfiBJH9, secretKey=4gsrh...
2025-03-17 19:43:11.156 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 获取到存储桶终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 19:43:11.156 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 使用存储桶终端节点作为上传URL: https://https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 19:43:11.156 [http-nio-8088-exec-6] INFO  c.e.blog.service.ImageTokenService - 成功获取多吉云临时上传令牌，文件名：01ac406711fb416aa3e76e3bf53c32c2.jpg，过期时间：1742218991
2025-03-17 19:43:11.157 [http-nio-8088-exec-6] INFO  c.e.b.c.ImageTokenController - 成功生成上传令牌
2025-03-17 20:04:12.912 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 30848 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 20:04:12.914 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 20:04:13.332 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 20:04:13.380 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2025-03-17 20:04:13.979 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 20:04:13.992 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 20:04:13.995 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 20:04:13.996 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 20:04:14.111 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 20:04:14.113 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1160 ms
2025-03-17 20:04:14.287 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 20:04:14.308 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 20:04:14.310 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 20:04:14.463 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 20:04:14.475 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 20:04:14.589 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c2a7d53
2025-03-17 20:04:14.591 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 20:04:14.633 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 20:04:15.279 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 20:04:15.332 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:04:15.837 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 20:04:15.966 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 20:04:15.996 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 51208e91-a67f-4cdf-afba-bc7bddb42367

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 20:04:16.105 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 20:04:16.107 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 20:04:16.115 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 20:04:16.117 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 20:04:16.118 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 20:04:16.158 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
2025-03-17 20:04:16.159 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:04:16.162 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-03-17 20:04:16.172 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-03-17 20:04:16.176 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-17 20:04:16.187 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-17 20:04:16.219 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:875)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.blog.BlogApplication.main(BlogApplication.java:13)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:867)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:112)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:210)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:276)
	at com.example.blog.config.SecurityConfig.lambda$filterChain$2(SecurityConfig.java:80)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1466)
	at com.example.blog.config.SecurityConfig.filterChain(SecurityConfig.java:76)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$3(<generated>)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$0.filterChain(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1320)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:110)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:98)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 71 common frames omitted
2025-03-17 20:04:26.942 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 19004 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 20:04:26.943 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 20:04:27.351 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 20:04:27.399 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2025-03-17 20:04:27.972 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 20:04:27.984 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 20:04:27.988 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 20:04:27.988 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 20:04:28.103 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 20:04:28.104 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1130 ms
2025-03-17 20:04:28.268 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 20:04:28.291 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 20:04:28.293 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 20:04:28.473 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 20:04:28.485 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 20:04:28.603 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c2a7d53
2025-03-17 20:04:28.606 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 20:04:28.631 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 20:04:29.210 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 20:04:29.262 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:04:29.715 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 20:04:29.843 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 20:04:29.867 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 337e7452-a282-47dc-b8fe-9dd25258d288

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 20:04:29.967 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 20:04:29.968 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 20:04:29.979 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 20:04:29.984 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 20:04:29.985 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 20:04:30.027 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
2025-03-17 20:04:30.028 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:04:30.030 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-03-17 20:04:30.039 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-03-17 20:04:30.041 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-17 20:04:30.052 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-17 20:04:30.084 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:875)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.blog.BlogApplication.main(BlogApplication.java:13)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:867)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:112)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:210)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:276)
	at com.example.blog.config.SecurityConfig.lambda$filterChain$2(SecurityConfig.java:80)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1466)
	at com.example.blog.config.SecurityConfig.filterChain(SecurityConfig.java:76)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$3(<generated>)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$0.filterChain(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1320)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:110)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:98)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 71 common frames omitted
2025-03-17 20:04:46.620 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 16156 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 20:04:46.622 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 20:04:47.001 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 20:04:47.051 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2025-03-17 20:04:47.582 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 20:04:47.599 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 20:04:47.606 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 20:04:47.606 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 20:04:47.728 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 20:04:47.729 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1079 ms
2025-03-17 20:04:47.891 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 20:04:47.913 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 20:04:47.914 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 20:04:48.116 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 20:04:48.128 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 20:04:48.222 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c2a7d53
2025-03-17 20:04:48.227 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 20:04:48.260 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 20:04:48.835 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 20:04:48.891 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:04:49.387 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 20:04:49.517 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 20:04:49.541 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d0e4bb11-cbe9-4324-9a54-f65f81b1db50

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 20:04:49.645 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 20:04:49.646 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 20:04:49.656 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 20:04:49.659 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 20:04:49.659 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 20:04:49.700 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
2025-03-17 20:04:49.701 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:04:49.703 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-03-17 20:04:49.715 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-03-17 20:04:49.718 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-17 20:04:49.729 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-17 20:04:49.763 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:875)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.blog.BlogApplication.main(BlogApplication.java:13)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:867)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:112)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:210)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:276)
	at com.example.blog.config.SecurityConfig.lambda$filterChain$2(SecurityConfig.java:80)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1466)
	at com.example.blog.config.SecurityConfig.filterChain(SecurityConfig.java:76)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$0(<generated>)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$0.filterChain(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1320)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:110)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:98)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 71 common frames omitted
2025-03-17 20:05:08.698 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 41212 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 20:05:08.700 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 20:05:09.123 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 20:05:09.169 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 5 JPA repository interfaces.
2025-03-17 20:05:09.720 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 20:05:09.738 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 20:05:09.742 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 20:05:09.742 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 20:05:09.853 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 20:05:09.855 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1121 ms
2025-03-17 20:05:10.006 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 20:05:10.032 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 20:05:10.033 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 20:05:10.221 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 20:05:10.233 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 20:05:10.339 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c2a7d53
2025-03-17 20:05:10.343 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 20:05:10.378 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 20:05:10.933 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 20:05:10.987 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:05:11.411 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 20:05:11.533 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 20:05:11.557 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ef57899a-cf06-40cc-a38a-94826fa0e834

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 20:05:11.641 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 20:05:11.641 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 20:05:11.652 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 20:05:11.654 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 20:05:11.654 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 20:05:11.691 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
2025-03-17 20:05:11.692 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:05:11.693 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-03-17 20:05:11.704 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-03-17 20:05:11.707 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-03-17 20:05:11.718 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-17 20:05:11.754 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:875)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.example.blog.BlogApplication.main(BlogApplication.java:13)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/example/blog/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:642)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:867)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:112)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:210)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:276)
	at com.example.blog.config.SecurityConfig.lambda$filterChain$2(SecurityConfig.java:80)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1466)
	at com.example.blog.config.SecurityConfig.filterChain(SecurityConfig.java:76)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$0(<generated>)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.example.blog.config.SecurityConfig$$SpringCGLIB$$0.filterChain(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1320)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:110)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:98)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 58 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'imageUploadController' method 
com.example.blog.controller.ImageUploadController#getUploadToken()
to {GET [/api/image/token]}: There is already 'imageTokenController' bean method
com.example.blog.controller.ImageTokenController#getUploadToken() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 71 common frames omitted
2025-03-17 20:08:17.674 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 42844 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 20:08:17.675 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 20:08:18.044 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 20:08:18.090 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2025-03-17 20:08:18.617 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 20:08:18.633 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 20:08:18.640 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 20:08:18.641 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 20:08:18.793 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 20:08:18.795 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1088 ms
2025-03-17 20:08:18.987 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 20:08:19.009 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 20:08:19.010 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 20:08:19.203 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 20:08:19.216 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 20:08:19.323 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cb4c4cc
2025-03-17 20:08:19.327 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 20:08:19.360 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 20:08:19.921 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 20:08:19.980 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:08:20.445 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 20:08:20.576 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 20:08:20.606 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 110b9d35-c4b6-4b15-b359-4ff32aaad0c4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 20:08:20.703 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 20:08:20.703 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 20:08:20.709 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 20:08:20.713 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 20:08:20.714 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 20:08:20.856 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 20:08:20.858 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 20:08:20.859 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 20:08:20.881 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66075347, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b45a3e6, org.springframework.security.web.context.SecurityContextHolderFilter@1e3c4c12, org.springframework.security.web.header.HeaderWriterFilter@e196238, org.springframework.web.filter.CorsFilter@7927209f, org.springframework.security.web.authentication.logout.LogoutFilter@5b166420, com.example.blog.config.JwtAuthenticationFilter@283595db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e74300b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d8a5ec7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@747476f1, org.springframework.security.web.session.SessionManagementFilter@5bb7fc38, org.springframework.security.web.access.ExceptionTranslationFilter@20c55658, org.springframework.security.web.access.intercept.AuthorizationFilter@6287e312]
2025-03-17 20:08:20.984 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 20:08:21.012 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 20:08:21.019 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.667 seconds (process running for 3.888)
2025-03-17 20:08:31.869 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 20:08:31.870 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 20:08:31.871 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 20:08:32.054 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/3739b23daa8a4892bd1fa2850a09bf2d.jpg"]}
2025-03-17 20:08:32.058 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 生成多吉云上传令牌，API路径：/auth/tmp_token.json，签名：cf5511f1e8b11111da90dc1af17d2f9301339ef8
2025-03-17 20:08:32.210 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:cf5511f1e8b11111da90dc1af17d2f9301339ef8, 请求体={"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/3739b23daa8a4892bd1fa2850a09bf2d.jpg"]}
2025-03-17 20:08:32.552 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDVNcyxpjUZityUNuSIHyJDNFRJqBCvUIue9Oww_zEJf3MN9WSCjvIODR24OOqZQMk","secretAccessKey":"D55qCTautFFXUY+YidkDDLzQB+XW0xGevWg5OVOwAKQ=","sessionToken":"bEFE55pucT7Y656mhdxzyFPXLnP9fZDa98dd5112d2599b5ae3e545f7dc7e0ddfGR6BZL4-uB5b5u8CNa5UCHgcJIf5qyJKbHDjoJGuBnVqbyLblypf8sf_uZDuH3WX2Td_ZNIUrj8UnAtL466Gg0BlxOcyepuER6iGST6-DX7jx3GTD3HldH6_tBEot3DmMdt8ZXr7r7-_VVGAytdocRByWPxWrQdFVEN3lkVvCfruyqPBRT4kZqW5MAjKe7iR2RoyCAulN1LXrQc_Lohw4jTxznAxeHB0Fp9zF27qgNc1O51_7K6-1ZRc4L8Zkoo5KpGO4igpZrj20U39tZvak-h_Dj0flJuXZK43fp804I2NObOqeDnt-V1aCgMhEcOipIhSw_3Xb9LIg90lFbNSZMc6N4Hq8y5to0wbyaa0ML6bwtV1L-hJ-H9TdZMsBv12ncDsNGf2md503Cjcv9FO-bLp9C_fIktRFdYXl--ioAjOb5XoaDEFTfDH-Zg4AQDh82FNbjSruyJv9Cn1DkCjy4pF0WRffhhzD6B7LdvY5Ct2pE9xlExwdtr8HdLlMeQNIhg7mKReYqCpIV965GQKqrfIpOCbwURukpJE-wbusu6eCnoyfhEZ4T28lF82c7drwqxRZNvevLDYPiJPOfvY65ooGTNLZC7dbuucCgeg0C0ScDplIXKtK93I1Uywc6LB_JRgW7SfJGfdeFdRaXXqIiswJ98sfmhE2n741xT8vPQbbVM1SY5VJWQtCwWCa5Fz"},"ExpiredAt":1742220512,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.049,"st":1742213312}
2025-03-17 20:08:32.555 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 成功解析多吉云临时凭证: accessKeyId=AKIDVNcyxpjUZityUNuSIHyJDNFRJqBCvUIue9Oww_zEJf3MN9WSCjvIODR24OOqZQMk, secretKey=D55qC...
2025-03-17 20:08:32.556 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 获取到存储桶终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 20:08:32.557 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 使用存储桶终端节点作为上传URL: https://https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 20:08:32.557 [http-nio-8088-exec-1] INFO  c.e.blog.service.ImageTokenService - 成功获取多吉云临时上传令牌，文件名：3739b23daa8a4892bd1fa2850a09bf2d.jpg，过期时间：1742220512
2025-03-17 20:08:32.558 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageUploadController - 成功生成上传令牌
2025-03-17 20:17:12.459 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 25504 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 20:17:12.461 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 20:17:12.887 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 20:17:12.938 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2025-03-17 20:17:13.492 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 20:17:13.500 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 20:17:13.503 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 20:17:13.504 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 20:17:13.591 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 20:17:13.592 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1094 ms
2025-03-17 20:17:13.786 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 20:17:13.808 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 20:17:13.809 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 20:17:14.015 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 20:17:14.028 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 20:17:14.131 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cb4c4cc
2025-03-17 20:17:14.134 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 20:17:14.160 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 20:17:14.764 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 20:17:14.858 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:17:15.390 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 20:17:15.524 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 20:17:15.541 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 5edd0a3a-60be-45bb-bd4b-f594cf9ddc88

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 20:17:15.653 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 20:17:15.653 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 20:17:15.661 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 20:17:15.665 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 20:17:15.665 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 20:17:15.822 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 20:17:15.823 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 20:17:15.825 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 20:17:15.838 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66075347, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b45a3e6, org.springframework.security.web.context.SecurityContextHolderFilter@1e3c4c12, org.springframework.security.web.header.HeaderWriterFilter@e196238, org.springframework.web.filter.CorsFilter@7927209f, org.springframework.security.web.authentication.logout.LogoutFilter@5b166420, com.example.blog.config.JwtAuthenticationFilter@283595db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e74300b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d8a5ec7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@747476f1, org.springframework.security.web.session.SessionManagementFilter@5bb7fc38, org.springframework.security.web.access.ExceptionTranslationFilter@20c55658, org.springframework.security.web.access.intercept.AuthorizationFilter@6287e312]
2025-03-17 20:17:15.953 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 20:17:15.979 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 20:17:15.987 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.866 seconds (process running for 4.085)
2025-03-17 20:20:27.135 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 20:20:27.136 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 20:20:27.138 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 20:20:27.278 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/14d3f5967b1e4a26aa52389376a061b4.jpg"]}
2025-03-17 20:20:27.378 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:edecb15db15bc1fd3967c8d1ca3417ed120a089c
2025-03-17 20:20:27.674 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDFHd4FbjvlZ3cQ8aV0IScKNxt_Nc3FsMP_bAHsfcDe6GShV7LwHCz4mGJCLgr8BkC","secretAccessKey":"dEZLf7BcJOdvrLuhtbsaFF3jDnrufWkoB/eELDnICF0=","sessionToken":"bEFE55pucT7Y656mhdxzyFPXLnP9fZDa42d99a7b13c2ec4cc7765322ecd1cc2dGR6BZL4-uB5b5u8CNa5UCE8fKDLqxWXxC0NgEm5hL_-WmdI_dR7paptJSbHyl-9p8TFcPL9jD-3aY5vmDvbknuwerLA3fDqB99T6qoxa0m7MnxrI1n3FSbgqwvoRulFex8Hkrde2_28Cyt15ojNy0Gf1QteYey87XnL12R111iyLYlrRKgU0WXxpNWw-rS4ME37y9vdfxqfNtwsCM1tp7HC2gwA2yueKdaKlztpHdw2epch-NhnSgHwYTNuVLbF9L4AjTq4QcbjmWogdfCqzYmKaR69-f2PsJFbZE0Pyw-FgFxn_EJCZEyZHXr2m2AYBiDBz0kXVV684EBt7nKTRXkEATn9CjvU3c0PVbQWV4qj3tH2aJycJltfBnJqnjNwAFQAntueugRAUfWJba-hv2qv67f1QVTfuFbFvJoCQtK_Dq-FVIjw9S2D-QDXuebZCw9DeSPz_Z1V_vPEs6g-Had8Oo6RrsU77259b159kGg4q2j_j3d5i2YNTOykjNJ1-rH28hPOD17aE2xRJ_pkZcZ8nHbTJOza38PUz1YBO-6VKBIQPJ-0StcpQkFV2G5JU_LvRvArVZ7pUVStzgm1hbbgwnC0-min7-BdfJau1bEQQNdUBUu368rTOJuibZ1MNTpbDY4_F7sPtt5LvTGOcbSQOQGl9xpb42eBJVjBd0uwO2X6qszaVYaeICfw9gkt2"},"ExpiredAt":1742221227,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.049,"st":1742214027}
2025-03-17 20:20:27.676 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 成功获取上传策略，文件路径：user/avatars/14d3f5967b1e4a26aa52389376a061b4.jpg，过期时间：1742221227
2025-03-17 20:20:38.427 [http-nio-8088-exec-1] ERROR c.e.b.c.ImageUploadController - 文件上传失败
software.amazon.awssdk.core.exception.SdkClientException: Received an UnknownHostException when attempting to interact with a service. See cause for the exact endpoint that is failing to resolve. If this is happening on an endpoint that previously worked, there may be a network connectivity issue or your DNS cache could be storing endpoints for too long.
	at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:111)
	at software.amazon.awssdk.awscore.interceptor.HelpfulUnknownHostExceptionInterceptor.modifyException(HelpfulUnknownHostExceptionInterceptor.java:59)
	at software.amazon.awssdk.core.interceptor.ExecutionInterceptorChain.modifyException(ExecutionInterceptorChain.java:202)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.utils.ExceptionReportingUtils.runModifyException(ExceptionReportingUtils.java:54)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.utils.ExceptionReportingUtils.reportFailureToInterceptors(ExceptionReportingUtils.java:38)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:39)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)
	at software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:222)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:173)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:80)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:182)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:74)
	at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)
	at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:53)
	at software.amazon.awssdk.services.s3.DefaultS3Client.putObject(DefaultS3Client.java:8975)
	at com.example.blog.service.S3UploadService.uploadFile(S3UploadService.java:163)
	at com.example.blog.controller.ImageUploadController.uploadFile(ImageUploadController.java:76)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageUploadController$$SpringCGLIB$$0.uploadFile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: s-cd-12224-user-img-data-1258813047.https
	at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:111)
	at software.amazon.awssdk.core.exception.SdkClientException.create(SdkClientException.java:47)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.utils.RetryableStageHelper.setLastException(RetryableStageHelper.java:223)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:83)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)
	at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:50)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:32)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)
	... 115 common frames omitted
	Suppressed: software.amazon.awssdk.core.exception.SdkClientException: Request attempt 1 failure: Unable to execute HTTP request: 不知道这样的主机。 (s-cd-12224-user-img-data-1258813047.https)
	Suppressed: software.amazon.awssdk.core.exception.SdkClientException: Request attempt 2 failure: Unable to execute HTTP request: s-cd-12224-user-img-data-1258813047.https
	Suppressed: software.amazon.awssdk.core.exception.SdkClientException: Request attempt 3 failure: Unable to execute HTTP request: s-cd-12224-user-img-data-1258813047.https
Caused by: java.net.UnknownHostException: s-cd-12224-user-img-data-1258813047.https
	at java.base/java.net.InetAddress$CachedLookup.get(InetAddress.java:988)
	at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1818)
	at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1688)
	at org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:112)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at software.amazon.awssdk.http.apache.internal.conn.ClientConnectionManagerFactory$DelegatingHttpClientConnectionManager.connect(ClientConnectionManagerFactory.java:86)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at software.amazon.awssdk.http.apache.internal.impl.ApacheSdkHttpClient.execute(ApacheSdkHttpClient.java:72)
	at software.amazon.awssdk.http.apache.ApacheHttpClient.execute(ApacheHttpClient.java:254)
	at software.amazon.awssdk.http.apache.ApacheHttpClient.access$500(ApacheHttpClient.java:104)
	at software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:231)
	at software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:228)
	at software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:89)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.executeHttpRequest(MakeHttpRequestStage.java:77)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:56)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:39)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:72)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:52)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:37)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)
	... 127 common frames omitted
2025-03-17 20:24:43.076 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 38424 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 20:24:43.077 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 20:24:43.456 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 20:24:43.508 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2025-03-17 20:24:44.064 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 20:24:44.080 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 20:24:44.087 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 20:24:44.088 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 20:24:44.285 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 20:24:44.286 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1176 ms
2025-03-17 20:24:44.481 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 20:24:44.505 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 20:24:44.506 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 20:24:44.669 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 20:24:44.683 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 20:24:44.778 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cb4c4cc
2025-03-17 20:24:44.779 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 20:24:44.818 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 20:24:45.446 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 20:24:45.503 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:24:46.002 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 20:24:46.122 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 20:24:46.141 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 2c845b39-d388-4a2f-a181-93c3867b2879

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 20:24:46.224 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 20:24:46.225 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 20:24:46.238 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 20:24:46.243 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 20:24:46.243 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 20:24:46.433 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 20:24:46.435 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 20:24:46.436 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 20:24:46.460 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c4bb119, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66075347, org.springframework.security.web.context.SecurityContextHolderFilter@17e31657, org.springframework.security.web.header.HeaderWriterFilter@951053f, org.springframework.web.filter.CorsFilter@3b45a3e6, org.springframework.security.web.authentication.logout.LogoutFilter@146b4c6c, com.example.blog.config.JwtAuthenticationFilter@7927209f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a8e35d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1aade3c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@283595db, org.springframework.security.web.session.SessionManagementFilter@34e7a627, org.springframework.security.web.access.ExceptionTranslationFilter@37bac0f4, org.springframework.security.web.access.intercept.AuthorizationFilter@1c0ec502]
2025-03-17 20:24:46.587 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 20:24:46.618 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 20:24:46.626 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.866 seconds (process running for 4.083)
2025-03-17 20:24:55.621 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 20:24:55.622 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 20:24:55.623 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 20:24:55.740 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/c03f2dd1b07741d0bb483ac47304865b.jpg"]}
2025-03-17 20:24:55.879 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:2e8f2292a7dc2f0ad21d0c7486a2b19c5ff94ce8
2025-03-17 20:24:56.180 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDUKrvt0j-0K_1U1F4yXKvKVegvXJyASrWJGUH5tEhrANpbwX8VW5wmNSb75Zgzdaw","secretAccessKey":"XXuhyiTbWfSevUwT5mMmGR+9QuO0FsrU4BoB2B4yvG4=","sessionToken":"bEFE55pucT7Y656mhdxzyFPXLnP9fZDaf57a7d02c31bf696977aec828764b6bbGR6BZL4-uB5b5u8CNa5UCHN2Tg1kicfLW9Fa4qAdaWCONj2m5xQ-j2mXV1KuIRtrQ4TAV6_Kqds_iD_s8p3uTnTpLTT9bZLs6Q84rUHY6Sj4t9w22L0P7aa6AqrPNj8i3cgSXABc8vQKm_H8uaWWQRcJiD_0XhEFKaQxZMttsn0x1GHrM4_HdpuUWn5mNK-vPgTPQowTUu7xX5TR95DO3kdDQQPsoJPzkWAk1sYWaFkCwE-rOeAi6c1abGymRJ1REI58vCZyA-vkeabshSeErv6V2OH2p4w3WidQpeBY-rgnNerP3qgisbkESTaIcJZVI179c0uD5LyyyrsjEgkCSKz39zNbqiEd4hcDVu_NwcEz7rWw0gh5awOVPUQKYX0915rmf4KH6S1I7VAGH0UrT8gF_OxBv2-If37_fRqrVaswJOvfBxqW9Y9bo5m8pw_2qfZNuxgjDpah24ixyiOT38PoXp_xxfwQYbjRsGoKwlclB3a7qQ4vNl3sDCozePP-uupVMWdRNkeVpACttTqWgCkby_VRgqMAuOc93OWtyOuRICTWrstcuvWOjWMiVTev9fQyvbvKVhH-E6dC7IVuQxBsJLZXkibUje0jkv8Q8bD3SozFdfwUUBT3SiXmEJIVLSwoXvFUE2jgxBKSRIisP-qrC7Lx3EPoKanOCi6A10nGJUOEZVyJTBqSwC9d3RGe"},"ExpiredAt":1742221496,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.053,"st":1742214296}
2025-03-17 20:24:56.183 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 获取到S3终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 20:24:56.184 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 成功获取上传策略，文件路径：user/avatars/c03f2dd1b07741d0bb483ac47304865b.jpg，过期时间：1742221496
2025-03-17 20:24:56.185 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 正在连接S3终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com, 使用桶: s-cd-12224-user-img-data-1258813047
2025-03-17 20:24:57.329 [http-nio-8088-exec-1] ERROR c.e.b.c.ImageUploadController - 文件上传失败
software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
	at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:111)
	at software.amazon.awssdk.core.exception.SdkClientException.create(SdkClientException.java:47)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.utils.RetryableStageHelper.setLastException(RetryableStageHelper.java:223)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:83)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)
	at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:50)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:32)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)
	at software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:222)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:173)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:80)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:182)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:74)
	at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)
	at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:53)
	at software.amazon.awssdk.services.s3.DefaultS3Client.putObject(DefaultS3Client.java:8975)
	at com.example.blog.service.S3UploadService.uploadFile(S3UploadService.java:176)
	at com.example.blog.controller.ImageUploadController.uploadFile(ImageUploadController.java:76)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageUploadController$$SpringCGLIB$$0.uploadFile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
	Suppressed: software.amazon.awssdk.core.exception.SdkClientException: Request attempt 1 failure: Unable to execute HTTP request: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
	Suppressed: software.amazon.awssdk.core.exception.SdkClientException: Request attempt 2 failure: Unable to execute HTTP request: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
	Suppressed: software.amazon.awssdk.core.exception.SdkClientException: Request attempt 3 failure: Unable to execute HTTP request: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
Caused by: javax.net.ssl.SSLPeerUnverifiedException: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:507)
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:437)
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)
	at software.amazon.awssdk.http.apache.internal.conn.SdkTlsSocketFactory.connectSocket(SdkTlsSocketFactory.java:65)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at software.amazon.awssdk.http.apache.internal.conn.ClientConnectionManagerFactory$DelegatingHttpClientConnectionManager.connect(ClientConnectionManagerFactory.java:86)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at software.amazon.awssdk.http.apache.internal.impl.ApacheSdkHttpClient.execute(ApacheSdkHttpClient.java:72)
	at software.amazon.awssdk.http.apache.ApacheHttpClient.execute(ApacheHttpClient.java:254)
	at software.amazon.awssdk.http.apache.ApacheHttpClient.access$500(ApacheHttpClient.java:104)
	at software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:231)
	at software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:228)
	at software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:89)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.executeHttpRequest(MakeHttpRequestStage.java:77)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:56)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:39)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:72)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:52)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:37)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)
	... 127 common frames omitted
2025-03-17 20:29:32.390 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 26792 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 20:29:32.391 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 20:29:32.800 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 20:29:32.852 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2025-03-17 20:29:33.386 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 20:29:33.401 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 20:29:33.406 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 20:29:33.406 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 20:29:33.538 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 20:29:33.539 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1115 ms
2025-03-17 20:29:33.717 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 20:29:33.740 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 20:29:33.741 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 20:29:33.936 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 20:29:33.948 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 20:29:34.060 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cb4c4cc
2025-03-17 20:29:34.062 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 20:29:34.092 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 20:29:34.662 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 20:29:34.717 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:29:35.147 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 20:29:35.276 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 20:29:35.303 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7ee8bbfb-ae69-4335-92fc-213c04ae3af6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 20:29:35.414 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 20:29:35.415 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 20:29:35.433 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 20:29:35.439 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 20:29:35.439 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 20:29:35.601 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 20:29:35.603 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 20:29:35.604 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 20:29:35.635 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c4bb119, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66075347, org.springframework.security.web.context.SecurityContextHolderFilter@17e31657, org.springframework.security.web.header.HeaderWriterFilter@951053f, org.springframework.web.filter.CorsFilter@3b45a3e6, org.springframework.security.web.authentication.logout.LogoutFilter@146b4c6c, com.example.blog.config.JwtAuthenticationFilter@7927209f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a8e35d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1aade3c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@283595db, org.springframework.security.web.session.SessionManagementFilter@34e7a627, org.springframework.security.web.access.ExceptionTranslationFilter@37bac0f4, org.springframework.security.web.access.intercept.AuthorizationFilter@1c0ec502]
2025-03-17 20:29:35.772 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 20:29:35.796 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 20:29:35.803 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 3.734 seconds (process running for 3.942)
2025-03-17 20:29:44.144 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 20:29:44.145 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 20:29:44.146 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-03-17 20:29:44.358 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/00564d9753094f48a7482cdb98903e03.jpg"]}
2025-03-17 20:29:44.499 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:88e504aace46cfe88ed74bbd172352d183acbdee
2025-03-17 20:29:44.775 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDlP5NCiItxEQneDpZg7olwqv_lovKvMZAy8cU6shjyUbgl86tZGrc2P3zMhhItIqa","secretAccessKey":"b/uy6e8qGEzEajcCEBMXmd3tylbKLEBvidzLaNZP1Mo=","sessionToken":"bEFE55pucT7Y656mhdxzyFPXLnP9fZDaa61226e632729108c2a81f1457ff83f9GR6BZL4-uB5b5u8CNa5UCNq7WOpaYAV9lHQxVODiZqp1xGcistW5yhbjCtQChuofOolnu95XbvnVkUqKK_RGdpOtWZlcl6hU5vJo_DS-ryFD9mZvDvJfpVP8a-pxG-PqJjmxRtvOYYxeWx_0XX7jyKBWfOJ19mKbe02NU68hKNLwHVFi4V57IXZMtbYaGAmKjWQPc22ndX3av_GVJcsNU-5PFCAVLQR5o3N-MIOc5AYjQBas8S44ef5cmgw5LrSXdBxjg07bHSyH3aEoPvzqjw03JlBt7ycpLcmMOjhVZayNgvrXJZX7NoWI3VArPIPeFGaWArc9hKUECEcNbbNXPmUzxGS8FA-vW_LVjUsEC2ave4tKJRLfqtqtPHWfl3eAtcD3dBoUT3JQOgFaqSRUCJf2l1hQ43BzRIsUDc4XIhlU3p4_wuKfEXgyIDm2K4gUAl8Mga9xJXBa4iH4t55Yd7NMxhTSD7CdLnWhGRJ9qxXm3-caHCyhCqX2g7A_UShfjD3JM0hXGlpTlrj4_VzNi-WKh7G8lSLB3JqxWsLG3YOJ6LrAYIkwpaW4QPqDx-hesizS57mZdFzi_JpD7jJ8nRE8rZrsx83QyzYMnU71tiWAbjf20E-fWmjtIV4IKetOHmig2kyNjJf2FHYw2vXK4VEGQEnAfOejyAFsiToiG7Nfbs65ojNpWvw7XAa3nfQN"},"ExpiredAt":1742221784,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.041,"st":1742214584}
2025-03-17 20:29:44.776 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 获取到S3终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 20:29:44.778 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 成功获取上传策略，文件路径：user/avatars/00564d9753094f48a7482cdb98903e03.jpg，过期时间：1742221784
2025-03-17 20:29:44.778 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 正在连接S3终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com, 使用桶: s-cd-12224-user-img-data-1258813047
2025-03-17 20:29:44.780 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - S3 endpoint URI: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 20:29:46.066 [http-nio-8088-exec-1] ERROR c.e.b.c.ImageUploadController - 文件上传失败
software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
	at software.amazon.awssdk.core.exception.SdkClientException$BuilderImpl.build(SdkClientException.java:111)
	at software.amazon.awssdk.core.exception.SdkClientException.create(SdkClientException.java:47)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.utils.RetryableStageHelper.setLastException(RetryableStageHelper.java:223)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:83)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)
	at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:50)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:32)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)
	at software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:222)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:173)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:80)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:182)
	at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:74)
	at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)
	at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:53)
	at software.amazon.awssdk.services.s3.DefaultS3Client.putObject(DefaultS3Client.java:8975)
	at com.example.blog.service.S3UploadService.uploadFile(S3UploadService.java:191)
	at com.example.blog.controller.ImageUploadController.uploadFile(ImageUploadController.java:76)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:199)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.blog.controller.ImageUploadController$$SpringCGLIB$$0.uploadFile(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.example.blog.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:73)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
	Suppressed: software.amazon.awssdk.core.exception.SdkClientException: Request attempt 1 failure: Unable to execute HTTP request: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
	Suppressed: software.amazon.awssdk.core.exception.SdkClientException: Request attempt 2 failure: Unable to execute HTTP request: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
	Suppressed: software.amazon.awssdk.core.exception.SdkClientException: Request attempt 3 failure: Unable to execute HTTP request: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
Caused by: javax.net.ssl.SSLPeerUnverifiedException: Certificate for <s-cd-12224-user-img-data-1258813047.s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com> doesn't match any of the subject alternative names: [*.cos.ap-chengdu.myqcloud.com, *.cn-east.myqcloud.com, *.cn-north.myqcloud.com, *.cn-south-2.myqcloud.com, *.cn-south.myqcloud.com, *.cn-southwest.myqcloud.com, *.cos-cdn.ap-chengdu.myqcloud.com, *.cos-cdn.ap-chengdu.tencentcos.cn, *.cos-cdn.ap-chengdu.tencentcos.com, *.cos-cdn.ap-chengdu.tencentcos.com.cn, *.cos-control.ap-chengdu.myqcloud.com, *.cos-control.ap-chengdu.tencentcos.cn, *.cos-control.ap-chengdu.tencentcos.com, *.cos-control.ap-chengdu.tencentcos.com.cn, *.cos-ext.ap-chengdu.myqcloud.com, *.cos-ext.ap-chengdu.tencentcos.com, *.cos-internal.accelerate.tencentcos.cn, *.cos-internal.accelerate.tencentcos.com.cn, *.cos-internal.ap-chengdu.myqcloud.com, *.cos-internal.ap-chengdu.tencentcos.cn, *.cos-internal.ap-chengdu.tencentcos.com, *.cos-internal.ap-chengdu.tencentcos.com.cn, *.cos.accelerate.myqcloud.com, *.cos.accelerate.tencentcos.cn, *.cos.accelerate.tencentcos.com, *.cos.accelerate.tencentcos.com.cn, *.cos.ap-chengdu.tencentcos.cn, *.cos.ap-chengdu.tencentcos.com, *.cos.ap-chengdu.tencentcos.com.cn, *.file.myqcloud.com, *.file.tencentcos.cn, *.file.tencentcos.com.cn, cos-cdn.ap-chengdu.myqcloud.com, cos-cdn.ap-chengdu.tencentcos.cn, cos-cdn.ap-chengdu.tencentcos.com, cos-cdn.ap-chengdu.tencentcos.com.cn, cos-control.ap-chengdu.myqcloud.com, cos-control.ap-chengdu.tencentcos.cn, cos-control.ap-chengdu.tencentcos.com, cos-control.ap-chengdu.tencentcos.com.cn, cos-ext.ap-chengdu.myqcloud.com, cos-ext.ap-chengdu.tencentcos.com, cos-internal.accelerate.tencentcos.cn, cos-internal.accelerate.tencentcos.com.cn, cos-internal.ap-chengdu.myqcloud.com, cos-internal.ap-chengdu.tencentcos.cn, cos-internal.ap-chengdu.tencentcos.com, cos-internal.ap-chengdu.tencentcos.com.cn, cos.accelerate.myqcloud.com, cos.accelerate.tencentcos.cn, cos.accelerate.tencentcos.com, cos.accelerate.tencentcos.com.cn, cos.ap-chengdu.tencentcos.cn, cos.ap-chengdu.tencentcos.com, cos.ap-chengdu.tencentcos.com.cn, file.myqcloud.com, file.tencentcos.cn, file.tencentcos.com.cn, cos.ap-chengdu.myqcloud.com]
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:507)
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:437)
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)
	at software.amazon.awssdk.http.apache.internal.conn.SdkTlsSocketFactory.connectSocket(SdkTlsSocketFactory.java:65)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at software.amazon.awssdk.http.apache.internal.conn.ClientConnectionManagerFactory$DelegatingHttpClientConnectionManager.connect(ClientConnectionManagerFactory.java:86)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at software.amazon.awssdk.http.apache.internal.impl.ApacheSdkHttpClient.execute(ApacheSdkHttpClient.java:72)
	at software.amazon.awssdk.http.apache.ApacheHttpClient.execute(ApacheHttpClient.java:254)
	at software.amazon.awssdk.http.apache.ApacheHttpClient.access$500(ApacheHttpClient.java:104)
	at software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:231)
	at software.amazon.awssdk.http.apache.ApacheHttpClient$1.call(ApacheHttpClient.java:228)
	at software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:89)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.executeHttpRequest(MakeHttpRequestStage.java:77)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:56)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.MakeHttpRequestStage.execute(MakeHttpRequestStage.java:39)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:72)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:52)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:37)
	at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)
	... 127 common frames omitted
2025-03-17 20:32:19.725 [main] INFO  com.example.blog.BlogApplication - Starting BlogApplication using Java 21.0.6 with PID 12652 (D:\文件\MyBlog\DanselaBack\target\classes started by 17804 in D:\文件\MyBlog\DanselaBack)
2025-03-17 20:32:19.727 [main] INFO  com.example.blog.BlogApplication - No active profile set, falling back to 1 default profile: "default"
2025-03-17 20:32:20.163 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-17 20:32:20.218 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2025-03-17 20:32:20.750 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8088 (http)
2025-03-17 20:32:20.758 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-03-17 20:32:20.761 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-03-17 20:32:20.761 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-03-17 20:32:20.849 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-03-17 20:32:20.851 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1089 ms
2025-03-17 20:32:21.022 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-17 20:32:21.047 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.13.Final
2025-03-17 20:32:21.048 [main] INFO  org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2025-03-17 20:32:21.220 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-17 20:32:21.233 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-03-17 20:32:21.358 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4a122e68
2025-03-17 20:32:21.360 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-03-17 20:32:21.406 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-17 20:32:22.198 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-17 20:32:22.258 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-17 20:32:22.865 [main] INFO  c.e.b.service.SensitiveWordService - 敏感词过滤服务初始化完成
2025-03-17 20:32:23.020 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-17 20:32:23.052 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7b5f45af-de96-4336-8c50-ac877ef81820

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-03-17 20:32:23.222 [main] INFO  c.example.blog.config.SecurityConfig - 正在配置安全过滤链...
2025-03-17 20:32:23.224 [main] INFO  c.example.blog.config.SecurityConfig - 配置CORS...
2025-03-17 20:32:23.246 [main] INFO  c.example.blog.config.SecurityConfig - 禁用CSRF保护...
2025-03-17 20:32:23.255 [main] INFO  c.example.blog.config.SecurityConfig - 配置URL访问权限...
2025-03-17 20:32:23.255 [main] INFO  c.example.blog.config.SecurityConfig - 设置以下路径允许匿名访问: /api/auth/*, /api/friend-links/*
2025-03-17 20:32:23.429 [main] INFO  c.example.blog.config.SecurityConfig - 配置异常处理...
2025-03-17 20:32:23.431 [main] INFO  c.example.blog.config.SecurityConfig - 配置会话管理为无状态...
2025-03-17 20:32:23.433 [main] INFO  c.example.blog.config.SecurityConfig - 安全过滤链配置完成
2025-03-17 20:32:23.459 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a450cb5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c4bb119, org.springframework.security.web.context.SecurityContextHolderFilter@27ea7c8f, org.springframework.security.web.header.HeaderWriterFilter@20c55658, org.springframework.web.filter.CorsFilter@66075347, org.springframework.security.web.authentication.logout.LogoutFilter@78b293a, com.example.blog.config.JwtAuthenticationFilter@3b45a3e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e3c4c12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e74300b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7927209f, org.springframework.security.web.session.SessionManagementFilter@22825762, org.springframework.security.web.access.ExceptionTranslationFilter@1f031994, org.springframework.security.web.access.intercept.AuthorizationFilter@b2db8bc]
2025-03-17 20:32:23.579 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-03-17 20:32:23.598 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8088 (http) with context path ''
2025-03-17 20:32:23.604 [main] INFO  com.example.blog.BlogApplication - Started BlogApplication in 4.207 seconds (process running for 4.427)
2025-03-17 20:32:32.264 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-17 20:32:32.265 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-03-17 20:32:32.266 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-03-17 20:32:32.402 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/679cb99e611f44c9ac1af8638c625dc1.jpg"]}
2025-03-17 20:32:32.500 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:910d30fdb7eb59f519203896d86c8882e7961b4d
2025-03-17 20:32:32.799 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDL2w-w8KyWi1LiHf2UgAdusoW0KDFwAGhSBW0bGj9IQzqNMPChvc6evi2HL_N1WdY","secretAccessKey":"lboVgPartsjvtqOnp0wsDNCpvF+6uho0PGo3gMoM4aI=","sessionToken":"bEFE55pucT7Y656mhdxzyFPXLnP9fZDa7963f06e7b9ddd6d8bf9b76a5c58ab11GR6BZL4-uB5b5u8CNa5UCJ0tGc8kksimLZpe6FREosg4M2WcqCoNkm2wbghvk_yhWz6aDV-c-y-XxB1uXOowL9dIlMEkIbRk5m2aXK6633hJp2p9yN2snyjirV5u5osFK7nSTT80UtbvGmTVTqSNXbkbrFraIeE_ihpyr9AiP48IHLi_CQE0yQuiO-Wii5nJst4ODm_1jqo27wcvoUfQlwHqBJkbalj_lc_6GiSPd5BZLD0tEiIf0XPl1EZhb4iQ8sLMRljMco89i0WXUAKTP0Cnh8LurXq5fClMgpWSrMiOhGCpu5Rs2AhUI8gaL072Gogu2pkh4qJo9QbVQ9so8cHhTViXhJ56GY9Igw9SSsREug8XeTZ2zWhpSPA9GiWv12ObvYYyE8xRF5qdUyNwTiUso7_rHUUpByHMIRlB9_FOqCsTkI5uO_swLF3dVixSorCj4_7-_lW61d02QXtwRC1yn_6djuy26Zn68X11tSOQC493YWCSaiqS94np2Pm--1PV4zvLZYDclth1_vr0BNmIZHlfWC6LG38gcrzJbrLYSQ8XSCquqviZFFPIrH1PorC68vZVcWdhW3W1SqiyZIcJi3gscYxpaq8JgUC0no4yGAmPwYbQYX0iL1Vvqy6ZJeHXpDu3fDH2HApm1aHJnNSAfr4cQcWetpeAZH6NLrPyLHfvYmCrBh__2JAjC6v_"},"ExpiredAt":1742221952,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.054,"st":1742214752}
2025-03-17 20:32:32.801 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 获取到S3终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 20:32:32.803 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 成功获取上传策略，文件路径：user/avatars/679cb99e611f44c9ac1af8638c625dc1.jpg，过期时间：1742221952
2025-03-17 20:32:32.803 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 正在连接S3终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com, 使用桶: s-cd-12224-user-img-data-1258813047
2025-03-17 20:32:32.804 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 提取的基础终端节点: https://cos.ap-chengdu.myqcloud.com
2025-03-17 20:32:32.805 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - S3 endpoint URI: https://cos.ap-chengdu.myqcloud.com
2025-03-17 20:32:33.097 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 正在上传文件，桶: s-cd-12224-user-img-data-1258813047, 路径: user/avatars/679cb99e611f44c9ac1af8638c625dc1.jpg, 大小: 550141
2025-03-17 20:32:33.754 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 文件上传成功：user/avatars/679cb99e611f44c9ac1af8638c625dc1.jpg, ETag: "37c09caf488b512e002ce73b11f9157a"
2025-03-17 20:32:33.755 [http-nio-8088-exec-1] INFO  c.e.blog.service.S3UploadService - 生成的文件URL: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com/user/avatars/679cb99e611f44c9ac1af8638c625dc1.jpg
2025-03-17 20:32:33.756 [http-nio-8088-exec-1] INFO  c.e.b.c.ImageUploadController - 文件上传成功: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com/user/avatars/679cb99e611f44c9ac1af8638c625dc1.jpg
2025-03-17 20:33:43.070 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 请求体内容: {"channel":"OSS_UPLOAD","scopes":["user-img-data:user/avatars/dd195024c13642c68e736216ed576eaf.jpg"]}
2025-03-17 20:33:43.071 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 发送请求到多吉云: URL=https://api.dogecloud.com/auth/tmp_token.json, 请求头=TOKEN 84c60ca748804658:3ed101616538d07856c902e9bdeac05e46b1bb45
2025-03-17 20:33:43.206 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 多吉云API响应: {"code":200,"msg":"OK","data":{"Credentials":{"accessKeyId":"AKIDR0Tf82DKx1f7VEfnfxzceMgp0TS_23pgmLdfUfcCyQI_B_R-FanQkzhBbc8bG_SJ","secretAccessKey":"UTjCfPHsSdTVAyQshwjk2tPx2jjdpbq24TfD3+oB65Q=","sessionToken":"bEFE55pucT7Y656mhdxzyFPXLnP9fZDa435b0044320da82c59791c7e9789c301GR6BZL4-uB5b5u8CNa5UCAtnMu3vzaqTV8MbrDM8lXxrJ-hEbOdXSPNMws9U7vS1D-ln5hEZkGzb5OS2AEJEMAJd2a_NrLFMNkN42KY1hvnnldntAY5IdvAjLIxUKeWx2dWIZXLfRiK3w37naTMxbaR4Y5vfgUWaZHM8nKBc-Tg0gmr6whXr__i3dQW06W_XbdK3k1IvogyQsHvpbMHhDCSwtiDCoBVglhlgdRa6qToU7hq5X2h_tabhcjypf-p1OIzh5w-fyvbN2huT7OwitveqAYMdeHguKQZTMXs7BTL8vLkRIQOmzxNt8pakHy847KQALLZzpOueaWOBbMzXeAagbKxS5u7dzwENZ8mepPQDgGzVJOhh7mUGkVoeRR0_W-nrVeRpktbrQS7_yOno_BCFPt8oywnR4T5oA-zrF2PMBk3qMQOpvdl9LZMUKcMvr_Xy9rSs-2UXympIruCw_IERFS6fx7qh0QQeyjV81XocBW-Uf1Wu90aV-uP_GAH4jL_w6rkAtNbS_Nhx7Hpm-woHMIZL0pgLOa5f0Ju1oQv7w5fhzAZ4Ejlf94CHXqKtJvW-2UR_2P7KIRDADRyzMg5aD6ZNfVwdUVTL2HjIXTDLTJ7fCuHtVaVHU2VoCr5H8jxdQC2OtQr6OWfoLI26vOrCzuOgRYMp0PDcoWPvM008PVkJFjRs_71xIvK09iwS"},"ExpiredAt":1742222023,"Buckets":[{"name":"user-img-data","s3Bucket":"s-cd-12224-user-img-data-1258813047","s3Endpoint":"https://cos.ap-chengdu.myqcloud.com","s3EndpointHost":"https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com"}]},"cost":0.039,"st":1742214823}
2025-03-17 20:33:43.207 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 获取到S3终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com
2025-03-17 20:33:43.208 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 成功获取上传策略，文件路径：user/avatars/dd195024c13642c68e736216ed576eaf.jpg，过期时间：1742222023
2025-03-17 20:33:43.209 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 正在连接S3终端节点: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com, 使用桶: s-cd-12224-user-img-data-1258813047
2025-03-17 20:33:43.209 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 提取的基础终端节点: https://cos.ap-chengdu.myqcloud.com
2025-03-17 20:33:43.210 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - S3 endpoint URI: https://cos.ap-chengdu.myqcloud.com
2025-03-17 20:33:43.211 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 正在上传文件，桶: s-cd-12224-user-img-data-1258813047, 路径: user/avatars/dd195024c13642c68e736216ed576eaf.jpg, 大小: 550141
2025-03-17 20:33:43.666 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 文件上传成功：user/avatars/dd195024c13642c68e736216ed576eaf.jpg, ETag: "37c09caf488b512e002ce73b11f9157a"
2025-03-17 20:33:43.666 [http-nio-8088-exec-3] INFO  c.e.blog.service.S3UploadService - 生成的文件URL: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com/user/avatars/dd195024c13642c68e736216ed576eaf.jpg
2025-03-17 20:33:43.668 [http-nio-8088-exec-3] INFO  c.e.b.c.ImageUploadController - 文件上传成功: https://s-cd-12224-user-img-data-1258813047.cos.ap-chengdu.myqcloud.com/user/avatars/dd195024c13642c68e736216ed576eaf.jpg
2025-03-17 23:44:31.740 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h38m39s741ms949µs600ns).
2025-03-17 23:46:16.861 [http-nio-8088-exec-6] WARN  c.e.blog.config.SecurityConfig$1 - 未授权访问: /api/auth/check-token, 错误: Full authentication is required to access this resource
